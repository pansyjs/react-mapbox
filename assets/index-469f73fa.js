import{r}from"./index-76fb7be0.js";import{a as h,i as E}from"./map-d3e02d13.js";const p=()=>{const e=r.useContext(h);if(!e)throw new Error("The useMap must be used in the Map container");return e},S=e=>e.style&&e.style._loaded,d=e=>{const{isFinishRender:f=!1,children:o}=e,{map:t}=p(),[,y]=r.useState(0),n=r.useRef([0,0,0]),u=r.useRef(0),a=()=>{y(F=>F+1)},s=()=>["031","131"].includes(n.current.join("")),i=()=>{n.current=[1,0,0],a()},c=()=>{n.current[1]=n.current[1]+1,n.current[1]===3&&(u.current=u.current+1),s()&&a()},l=()=>{n.current[2]=1};return r.useEffect(()=>{if(t)return S(t)&&(n.current=[0,3,1],u.current=1,a(),n.current=[0,0,0]),t.on("styledataloading",i),t.on("styledata",c),t.on("style.load",l),()=>{t.off("styledataloading",i),t.off("styledata",c),t.off("style.load",l)}},[t]),E(o)?o(s(),u.current===1):f?s()?e.children:null:u.current>0&&e.children};try{d.displayName="StyleLoadFinish",d.__docgenInfo={description:"",displayName:"StyleLoadFinish",props:{isFinishRender:{defaultValue:{value:"false 加载中不卸载子组件"},description:"样式加载完成子组件才可渲染，加载中卸载子组件",name:"isFinishRender",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"子组件，如果为",name:"children",required:!1,type:{name:"ReactNode | ChildrenFun"}}}}}catch{}export{d as S,S as i,p as u};
