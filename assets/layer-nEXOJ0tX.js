import{a as Qe,j as X,F as et}from"./jsx-runtime-5BUNAZ9W.js";import{M as re}from"./mapbox-gl-oa9XOBpX.js";import{r as d}from"./index-4g5l5LRQ.js";import{r as le}from"./index-jmm5gWkb.js";const je=d.createContext({});function tt(e){var t=d.useRef(e);return t.current=e,t}var nt=!!(typeof window<"u"&&window.document&&window.document.createElement),H,W;nt&&(!((H=window)===null||H===void 0||(W=H.navigator)===null||W===void 0)&&W.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);var rt=function(t){return typeof t=="function"};function Z(e){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(e)}function at(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(a,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=r.has(a);if(s)return!1;if(a===i)return!0;if(n&&l>1)return!1;r.add(a);var u=l+1;if(Array.isArray(a)){if(!Array.isArray(i)||a.length!==i.length)return!1;for(var p=0;p<a.length;p++)if(!o(a[p],i[p],u))return!1;return!0}if(a&&i&&Z(a)==="object"&&Z(i)==="object"){var v=Object.keys(a);return v.length!==Object.keys(i).length?!1:v.every(function(f){return o(a[f],i[f],u)})}return!1}return o(e,t)}var ot=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return at(t,n)},ut=function(t){return function(n,r){var o=d.useRef(),a=d.useRef(0);(r===void 0||!ot(r,o.current))&&(o.current=r,a.current+=1),t(n,[a.current])}};function J(e){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}function Ve(e){typeof e!="function"&&console.error("useUnmount expected parameter is a function, got ".concat(J(e)));var t=tt(e);d.useEffect(function(){return function(){t.current()}},[])}var it=ut(d.useEffect);function lt(e,t){return typeof e=="function"?e.length?e(t):e():e}function st(e,t){return pt(e)||ft(e,t)||dt(e,t)||ct()}function ct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(e,t){if(e){if(typeof e=="string")return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}}function se(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,i,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(p){u=!0,o=p}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}function pt(e){if(Array.isArray(e))return e}function vt(e){var t=d.useState(e),n=st(t,2),r=n[0],o=n[1],a=d.useRef(r);a.current=r;var i=d.useCallback(function(s){a.current=lt(s,a.current),o(a.current)},[]),l=d.useCallback(function(){return a.current},[]);return[r,i,l]}var mt=function(t,n){return t!==n};function yt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mt,n=d.useRef(),r=d.useRef();return t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function ce(e,t){return Et(e)||bt(e,t)||ht(e,t)||gt()}function gt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(e,t){if(e){if(typeof e=="string")return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}}function de(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,i,l;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));o=!0);}catch(s){a=!0,l=s}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Et(e){if(Array.isArray(e))return e}var Mt=function(){var t=d.useState(function(){return document.createElement("div")}),n=ce(t,1),r=n[0],o=d.useState({render:function(){return null},remove:function(){return null}}),a=ce(o,2),i=a[0],l=a[1],s=d.useCallback(function(u){var p=function(c){var m=c.children;return m?le.createPortal(m,u):null},v=function(c){c&&le.unmountComponentAtNode(c)};return{render:p,remove:v}},[]);return d.useEffect(function(){r&&i.remove();var u=s(r);return l(u),function(){u.remove(r)}},[r]),{Portal:i.render,container:r}};const _t=(e,t)=>e?e.map((n,r)=>Object.is(e[r],t==null?void 0:t[r])?-1:r).filter(n=>n>=0):t?t.map((n,r)=>r):[],Tt=(e,t)=>{const n=d.useRef();d.useEffect(()=>{const r=_t(n.current,t),o=n.current;return n.current=t,e(r,o,t)},t)},ae=(e,t,n)=>{const{eventMap:r={},eventList:o=[]}=n;Tt((a=[],i,l)=>{if(!e)return;let s=a.filter(u=>!!u).map(u=>u-1);a.includes(0)&&(s=o.map((u,p)=>p)),s.forEach(u=>{const p=r[o[u]],v=i==null?void 0:i[u+1],f=l==null?void 0:l[u+1];v&&e.off(p,v),f&&e.on(p,f)})},[e,...o.map(a=>t[a])]),Ve(()=>{e&&o.forEach(a=>{const i=r[a],l=t[a];i&&l&&e.off(i,l)})})};var Ie=typeof global=="object"&&global&&global.Object===Object&&global,St=typeof self=="object"&&self&&self.Object===Object&&self,b=Ie||St||Function("return this")(),x=b.Symbol,Fe=Object.prototype,wt=Fe.hasOwnProperty,Ct=Fe.toString,O=x?x.toStringTag:void 0;function At(e){var t=wt.call(e,O),n=e[O];try{e[O]=void 0;var r=!0}catch{}var o=Ct.call(e);return r&&(t?e[O]=n:delete e[O]),o}var xt=Object.prototype,Pt=xt.toString;function Ot(e){return Pt.call(e)}var Dt="[object Null]",Lt="[object Undefined]",fe=x?x.toStringTag:void 0;function j(e){return e==null?e===void 0?Lt:Dt:fe&&fe in Object(e)?At(e):Ot(e)}function $(e){return e!=null&&typeof e=="object"}var B=Array.isArray;function Ze(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $t="[object AsyncFunction]",Rt="[object Function]",qt="[object GeneratorFunction]",jt="[object Proxy]";function Be(e){if(!Ze(e))return!1;var t=j(e);return t==Rt||t==qt||t==$t||t==jt}var G=b["__core-js_shared__"],pe=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vt(e){return!!pe&&pe in e}var It=Function.prototype,Ft=It.toString;function C(e){if(e!=null){try{return Ft.call(e)}catch{}try{return e+""}catch{}}return""}var Zt=/[\\^$.*+?()[\]{}|]/g,Bt=/^\[object .+?Constructor\]$/,Nt=Function.prototype,Ut=Object.prototype,zt=Nt.toString,Ht=Ut.hasOwnProperty,Wt=RegExp("^"+zt.call(Ht).replace(Zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gt(e){if(!Ze(e)||Vt(e))return!1;var t=Be(e)?Wt:Bt;return t.test(C(e))}function kt(e,t){return e==null?void 0:e[t]}function P(e,t){var n=kt(e,t);return Gt(n)?n:void 0}var Y=P(b,"WeakMap"),Kt=9007199254740991,Xt=/^(?:0|[1-9]\d*)$/;function Jt(e,t){var n=typeof e;return t=t??Kt,!!t&&(n=="number"||n!="symbol"&&Xt.test(e))&&e>-1&&e%1==0&&e<t}function Ne(e,t){return e===t||e!==e&&t!==t}var Yt=9007199254740991;function Ue(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Yt}function Qt(e){return e!=null&&Ue(e.length)&&!Be(e)}var en=Object.prototype;function tn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||en;return e===n}function nn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var rn="[object Arguments]";function ve(e){return $(e)&&j(e)==rn}var ze=Object.prototype,an=ze.hasOwnProperty,on=ze.propertyIsEnumerable,un=ve(function(){return arguments}())?ve:function(e){return $(e)&&an.call(e,"callee")&&!on.call(e,"callee")};function ln(){return!1}var He=typeof exports=="object"&&exports&&!exports.nodeType&&exports,me=He&&typeof module=="object"&&module&&!module.nodeType&&module,sn=me&&me.exports===He,ye=sn?b.Buffer:void 0,cn=ye?ye.isBuffer:void 0,Q=cn||ln,dn="[object Arguments]",fn="[object Array]",pn="[object Boolean]",vn="[object Date]",mn="[object Error]",yn="[object Function]",gn="[object Map]",hn="[object Number]",bn="[object Object]",En="[object RegExp]",Mn="[object Set]",_n="[object String]",Tn="[object WeakMap]",Sn="[object ArrayBuffer]",wn="[object DataView]",Cn="[object Float32Array]",An="[object Float64Array]",xn="[object Int8Array]",Pn="[object Int16Array]",On="[object Int32Array]",Dn="[object Uint8Array]",Ln="[object Uint8ClampedArray]",$n="[object Uint16Array]",Rn="[object Uint32Array]",y={};y[Cn]=y[An]=y[xn]=y[Pn]=y[On]=y[Dn]=y[Ln]=y[$n]=y[Rn]=!0;y[dn]=y[fn]=y[Sn]=y[pn]=y[wn]=y[vn]=y[mn]=y[yn]=y[gn]=y[hn]=y[bn]=y[En]=y[Mn]=y[_n]=y[Tn]=!1;function qn(e){return $(e)&&Ue(e.length)&&!!y[j(e)]}function jn(e){return function(t){return e(t)}}var We=typeof exports=="object"&&exports&&!exports.nodeType&&exports,L=We&&typeof module=="object"&&module&&!module.nodeType&&module,Vn=L&&L.exports===We,k=Vn&&Ie.process,ge=function(){try{var e=L&&L.require&&L.require("util").types;return e||k&&k.binding&&k.binding("util")}catch{}}(),he=ge&&ge.isTypedArray,Ge=he?jn(he):qn,In=Object.prototype,Fn=In.hasOwnProperty;function Zn(e,t){var n=B(e),r=!n&&un(e),o=!n&&!r&&Q(e),a=!n&&!r&&!o&&Ge(e),i=n||r||o||a,l=i?nn(e.length,String):[],s=l.length;for(var u in e)(t||Fn.call(e,u))&&!(i&&(u=="length"||o&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Jt(u,s)))&&l.push(u);return l}function Bn(e,t){return function(n){return e(t(n))}}var Nn=Bn(Object.keys,Object),Un=Object.prototype,zn=Un.hasOwnProperty;function Hn(e){if(!tn(e))return Nn(e);var t=[];for(var n in Object(e))zn.call(e,n)&&n!="constructor"&&t.push(n);return t}function Wn(e){return Qt(e)?Zn(e):Hn(e)}var R=P(Object,"create");function Gn(){this.__data__=R?R(null):{},this.size=0}function kn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kn="__lodash_hash_undefined__",Xn=Object.prototype,Jn=Xn.hasOwnProperty;function Yn(e){var t=this.__data__;if(R){var n=t[e];return n===Kn?void 0:n}return Jn.call(t,e)?t[e]:void 0}var Qn=Object.prototype,er=Qn.hasOwnProperty;function tr(e){var t=this.__data__;return R?t[e]!==void 0:er.call(t,e)}var nr="__lodash_hash_undefined__";function rr(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=R&&t===void 0?nr:t,this}function w(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}w.prototype.clear=Gn;w.prototype.delete=kn;w.prototype.get=Yn;w.prototype.has=tr;w.prototype.set=rr;function ar(){this.__data__=[],this.size=0}function U(e,t){for(var n=e.length;n--;)if(Ne(e[n][0],t))return n;return-1}var or=Array.prototype,ur=or.splice;function ir(e){var t=this.__data__,n=U(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ur.call(t,n,1),--this.size,!0}function lr(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]}function sr(e){return U(this.__data__,e)>-1}function cr(e,t){var n=this.__data__,r=U(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function E(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E.prototype.clear=ar;E.prototype.delete=ir;E.prototype.get=lr;E.prototype.has=sr;E.prototype.set=cr;var q=P(b,"Map");function dr(){this.size=0,this.__data__={hash:new w,map:new(q||E),string:new w}}function fr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function z(e,t){var n=e.__data__;return fr(t)?n[typeof t=="string"?"string":"hash"]:n.map}function pr(e){var t=z(this,e).delete(e);return this.size-=t?1:0,t}function vr(e){return z(this,e).get(e)}function mr(e){return z(this,e).has(e)}function yr(e,t){var n=z(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function A(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}A.prototype.clear=dr;A.prototype.delete=pr;A.prototype.get=vr;A.prototype.has=mr;A.prototype.set=yr;function gr(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function hr(){this.__data__=new E,this.size=0}function br(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Er(e){return this.__data__.get(e)}function Mr(e){return this.__data__.has(e)}var _r=200;function Tr(e,t){var n=this.__data__;if(n instanceof E){var r=n.__data__;if(!q||r.length<_r-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new A(r)}return n.set(e,t),this.size=n.size,this}function _(e){var t=this.__data__=new E(e);this.size=t.size}_.prototype.clear=hr;_.prototype.delete=br;_.prototype.get=Er;_.prototype.has=Mr;_.prototype.set=Tr;function Sr(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}function wr(){return[]}var Cr=Object.prototype,Ar=Cr.propertyIsEnumerable,be=Object.getOwnPropertySymbols,xr=be?function(e){return e==null?[]:(e=Object(e),Sr(be(e),function(t){return Ar.call(e,t)}))}:wr;const Pr=xr;function Or(e,t,n){var r=t(e);return B(e)?r:gr(r,n(e))}function Ee(e){return Or(e,Wn,Pr)}var ee=P(b,"DataView"),te=P(b,"Promise"),ne=P(b,"Set"),Me="[object Map]",Dr="[object Object]",_e="[object Promise]",Te="[object Set]",Se="[object WeakMap]",we="[object DataView]",Lr=C(ee),$r=C(q),Rr=C(te),qr=C(ne),jr=C(Y),S=j;(ee&&S(new ee(new ArrayBuffer(1)))!=we||q&&S(new q)!=Me||te&&S(te.resolve())!=_e||ne&&S(new ne)!=Te||Y&&S(new Y)!=Se)&&(S=function(e){var t=j(e),n=t==Dr?e.constructor:void 0,r=n?C(n):"";if(r)switch(r){case Lr:return we;case $r:return Me;case Rr:return _e;case qr:return Te;case jr:return Se}return t});const Ce=S;var Vr=b.Uint8Array;const Ae=Vr;var Ir="__lodash_hash_undefined__";function Fr(e){return this.__data__.set(e,Ir),this}function Zr(e){return this.__data__.has(e)}function N(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new A;++t<n;)this.add(e[t])}N.prototype.add=N.prototype.push=Fr;N.prototype.has=Zr;function Br(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Nr(e,t){return e.has(t)}var Ur=1,zr=2;function ke(e,t,n,r,o,a){var i=n&Ur,l=e.length,s=t.length;if(l!=s&&!(i&&s>l))return!1;var u=a.get(e),p=a.get(t);if(u&&p)return u==t&&p==e;var v=-1,f=!0,c=n&zr?new N:void 0;for(a.set(e,t),a.set(t,e);++v<l;){var m=e[v],g=t[v];if(r)var h=i?r(g,m,v,t,e,a):r(m,g,v,e,t,a);if(h!==void 0){if(h)continue;f=!1;break}if(c){if(!Br(t,function(M,T){if(!Nr(c,T)&&(m===M||o(m,M,n,r,a)))return c.push(T)})){f=!1;break}}else if(!(m===g||o(m,g,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}function Hr(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Wr(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Gr=1,kr=2,Kr="[object Boolean]",Xr="[object Date]",Jr="[object Error]",Yr="[object Map]",Qr="[object Number]",ea="[object RegExp]",ta="[object Set]",na="[object String]",ra="[object Symbol]",aa="[object ArrayBuffer]",oa="[object DataView]",xe=x?x.prototype:void 0,K=xe?xe.valueOf:void 0;function ua(e,t,n,r,o,a,i){switch(n){case oa:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aa:return!(e.byteLength!=t.byteLength||!a(new Ae(e),new Ae(t)));case Kr:case Xr:case Qr:return Ne(+e,+t);case Jr:return e.name==t.name&&e.message==t.message;case ea:case na:return e==t+"";case Yr:var l=Hr;case ta:var s=r&Gr;if(l||(l=Wr),e.size!=t.size&&!s)return!1;var u=i.get(e);if(u)return u==t;r|=kr,i.set(e,t);var p=ke(l(e),l(t),r,o,a,i);return i.delete(e),p;case ra:if(K)return K.call(e)==K.call(t)}return!1}var ia=1,la=Object.prototype,sa=la.hasOwnProperty;function ca(e,t,n,r,o,a){var i=n&ia,l=Ee(e),s=l.length,u=Ee(t),p=u.length;if(s!=p&&!i)return!1;for(var v=s;v--;){var f=l[v];if(!(i?f in t:sa.call(t,f)))return!1}var c=a.get(e),m=a.get(t);if(c&&m)return c==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var h=i;++v<s;){f=l[v];var M=e[f],T=t[f];if(r)var ie=i?r(T,M,f,t,e,a):r(M,T,f,e,t,a);if(!(ie===void 0?M===T||o(M,T,n,r,a):ie)){g=!1;break}h||(h=f=="constructor")}if(g&&!h){var V=e.constructor,I=t.constructor;V!=I&&"constructor"in e&&"constructor"in t&&!(typeof V=="function"&&V instanceof V&&typeof I=="function"&&I instanceof I)&&(g=!1)}return a.delete(e),a.delete(t),g}var da=1,Pe="[object Arguments]",Oe="[object Array]",F="[object Object]",fa=Object.prototype,De=fa.hasOwnProperty;function pa(e,t,n,r,o,a){var i=B(e),l=B(t),s=i?Oe:Ce(e),u=l?Oe:Ce(t);s=s==Pe?F:s,u=u==Pe?F:u;var p=s==F,v=u==F,f=s==u;if(f&&Q(e)){if(!Q(t))return!1;i=!0,p=!1}if(f&&!p)return a||(a=new _),i||Ge(e)?ke(e,t,n,r,o,a):ua(e,t,s,n,r,o,a);if(!(n&da)){var c=p&&De.call(e,"__wrapped__"),m=v&&De.call(t,"__wrapped__");if(c||m){var g=c?e.value():e,h=m?t.value():t;return a||(a=new _),o(g,h,n,r,a)}}return f?(a||(a=new _),ca(e,t,n,r,o,a)):!1}function Ke(e,t,n,r,o){return e===t?!0:e==null||t==null||!$(e)&&!$(t)?e!==e&&t!==t:pa(e,t,n,r,Ke,o)}function va(e,t){return Ke(e,t)}const ma=e=>e[0].toUpperCase()+e.slice(1,e.length);function oe(e,t,{setterMap:n={},converterMap:r={}}={}){const o=yt(e);it(()=>{t&&i(e,!0)},[e]),Ve(()=>{t&&"remove"in t&&t.remove()});const a=()=>{i(e,!1)},i=(l,s=!0)=>{if(t)try{Object.keys(l).forEach(u=>{if(rt(e[u])&&/^on[A-Z]/.test(u))return;let p=!0;if(s&&(p=!va(l[u],o==null?void 0:o[u])),!p)return;let v=l[u];if(u in r&&(v=r[u](l[u])),u in n)n[u](v,t);else{const f=`set${ma(u)}`;f in t&&t[f](v)}})}catch(u){console.error(u)}};return{onInstanceCreated:a}}const ya=["accessToken","antialias","attributionControl","bearingSnap","bounds","hash","interactive","clickTolerance","pitchWithRotate","customAttribution","cooperativeGestures","logoPosition","failIfMajorPerformanceCaveat","preserveDrawingBuffer","refreshExpiredTiles","trackResize","fitBoundsOptions","maxTileCacheSize","transformRequest","collectResourceTiming","fadeDuration","crossSourceCollisions","optimizeForTerrain","locale","localFontFamily","localIdeographFontFamily","testMode"],ga=["center","zoom","minZoom","maxZoom","style","maxBounds","dragPan","renderWorldCopies","pitch","maxPitch","minPitch","bearing","projection","touchPitch","boxZoom","scrollZoom","dragRotate","dragPan","keyboard","touchZoomRotate","doubleClickZoom"],ha=ga.concat(ya),ba={touchPitch(e,t){if(t){if(e){t.touchPitch.enable();return}t.touchPitch.disable()}},scrollZoom(e,t){if(t){if(e){t.scrollZoom.enable();return}t.scrollZoom.disable()}},boxZoom(e,t){if(t){if(e){t.boxZoom.enable();return}t.boxZoom.disable()}},dragRotate(e,t){if(t){if(e){t.dragRotate.enable();return}t.dragRotate.disable()}},dragPan(e,t){if(t){if(e){t.dragPan.enable();return}t.dragPan.disable()}},keyboard(e,t){if(t){if(e){t.keyboard.enable();return}t.keyboard.disable()}},touchZoomRotate(e,t){if(t){if(e){t.touchZoomRotate.enable();return}t.touchZoomRotate.disable()}},doubleClickZoom(e,t){if(t){if(e){t.doubleClickZoom.enable();return}t.doubleClickZoom.disable()}}},Ea={},Ma={width:"100%",height:"100%",position:"relative"},Xe={onError:"error",onLoad:"load",onIdle:"idle",onRemove:"remove",onRender:"render",onResize:"resize",onWebglContextLost:"webglcontextlost",onWebglContextRestored:"webglcontextrestored",onDataloading:"dataloading",onData:"data",onTileDataLoading:"tiledataloading",onSourceDataLoading:"sourcedataloading",onStyleDataLoading:"styledataloading",onSourceData:"sourcedata",onStyleData:"styledata",onBoxZoomCancel:"boxzoomcancel",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onTouchCancel:"touchcancel",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onMouseMove:"mousemove",onMouseUp:"mouseup",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onPitchStart:"pitchstart",onPitch:"pitch",onPitchEnd:"pitchend",onWheel:"wheel"},_a=Object.keys(Xe),Le=d.forwardRef((e,t)=>{const{className:n,loading:r,containerStyle:o,children:a}=e,i=d.useRef(null),[l,s]=d.useState(),{current:u}=d.useRef({}),{onInstanceCreated:p}=oe(e,l,{setterMap:ba,converterMap:Ea});ae(l,e,{eventMap:Xe,eventList:_a}),d.useImperativeHandle(t,()=>l,[l]),d.useEffect(()=>{i.current&&v().then(c=>{p(),u.map=c,s(c)})},[i]);const v=()=>{const c=f(e);return Promise.resolve(new re.Map(c))},f=c=>{const g={container:i.current};return ha.forEach(h=>{h in c&&h!=="container"&&(g[h]=c[h])}),g};return Qe("div",{ref:i,style:{...Ma,...o},className:n,children:[!l&&r,l&&X(je.Provider,{value:u,children:a})]})});try{Le.displayName="Map",Le.__docgenInfo={description:"",displayName:"Map",props:{loading:{defaultValue:null,description:"地图加载前的加载效果",name:"loading",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"额外的样式类",name:"className",required:!1,type:{name:"string"}},containerStyle:{defaultValue:null,description:"地图挂载节点样式",name:"containerStyle",required:!1,type:{name:"CSSProperties"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((e: ErrorEvent) => void)"}},onLoad:{defaultValue:null,description:`下载所有必要的资源并且第一次视觉上完整渲染发生后触发
@param e
@returns`,name:"onLoad",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onIdle:{defaultValue:null,description:"",name:"onIdle",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onRender:{defaultValue:null,description:"",name:"onRender",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onWebglContextLost:{defaultValue:null,description:"",name:"onWebglContextLost",required:!1,type:{name:"((e: MapContextEvent) => void)"}},onWebglContextRestored:{defaultValue:null,description:"",name:"onWebglContextRestored",required:!1,type:{name:"((e: MapContextEvent) => void)"}},onDataloading:{defaultValue:null,description:"",name:"onDataloading",required:!1,type:{name:"((e: MapDataEvent) => void)"}},onData:{defaultValue:null,description:"",name:"onData",required:!1,type:{name:"((e: MapDataEvent) => void)"}},onTileDataLoading:{defaultValue:null,description:"",name:"onTileDataLoading",required:!1,type:{name:"((e: MapDataEvent) => void)"}},onSourceDataLoading:{defaultValue:null,description:"",name:"onSourceDataLoading",required:!1,type:{name:"((e: MapSourceDataEvent) => void)"}},onStyleDataLoading:{defaultValue:null,description:"",name:"onStyleDataLoading",required:!1,type:{name:"((e: MapStyleDataEvent) => void)"}},onSourceData:{defaultValue:null,description:"",name:"onSourceData",required:!1,type:{name:"((e: MapSourceDataEvent) => void)"}},onStyleData:{defaultValue:null,description:"",name:"onStyleData",required:!1,type:{name:"((e: MapStyleDataEvent) => void)"}},onBoxZoomCancel:{defaultValue:null,description:"",name:"onBoxZoomCancel",required:!1,type:{name:"((e: MapBoxZoomEvent) => void)"}},onBoxZoomStart:{defaultValue:null,description:"",name:"onBoxZoomStart",required:!1,type:{name:"((e: MapBoxZoomEvent) => void)"}},onBoxZoomEnd:{defaultValue:null,description:"",name:"onBoxZoomEnd",required:!1,type:{name:"((e: MapBoxZoomEvent) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMoveStart:{defaultValue:null,description:"",name:"onMoveStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onMove:{defaultValue:null,description:"",name:"onMove",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onMoveEnd:{defaultValue:null,description:"",name:"onMoveEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onZoomStart:{defaultValue:null,description:"",name:"onZoomStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onZoom:{defaultValue:null,description:"",name:"onZoom",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onZoomEnd:{defaultValue:null,description:"",name:"onZoomEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onRotateStart:{defaultValue:null,description:"",name:"onRotateStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onRotate:{defaultValue:null,description:"",name:"onRotate",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onRotateEnd:{defaultValue:null,description:"",name:"onRotateEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onPitchStart:{defaultValue:null,description:"",name:"onPitchStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onPitch:{defaultValue:null,description:"",name:"onPitch",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onPitchEnd:{defaultValue:null,description:"",name:"onPitchEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onWheel:{defaultValue:null,description:"",name:"onWheel",required:!1,type:{name:"((e: MapWheelEvent) => void)"}}}}}catch{}const ue=()=>{const e=d.useContext(je);if(!e)throw new Error("The useMap must be used in the Map container");return e},Ta=e=>{if(!e)return null;if("toBounds"in e)return e;let t=0,n=0;return Array.isArray(e)?(t=e[0],n=e[1]):"lng"in e&&"lat"in e?(t=e.lng,n=e.lat):"lon"in e&&"lat"in e&&(t=e.lon,n=e.lat),t!==0&&n!==0?new re.LngLat(t,n):null},Sa=["anchor","clickTolerance","color","scale"],wa=["offset","draggable","rotation","rotationAlignment","pitchAlignment","occludedOpacity","lngLat"],Ca=wa.concat(Sa),Aa={},D={lngLat:Ta},Je={onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend"},xa=Object.keys(Je),$e=d.forwardRef((e,t)=>{const{map:n}=ue(),{Portal:r,container:o}=Mt(),[a,i,l]=vt(),{onInstanceCreated:s}=oe(e,a,{setterMap:Aa,converterMap:D});ae(a,e,{eventMap:Je,eventList:xa}),d.useImperativeHandle(t,()=>a,[a]);const u=c=>{var m;(m=e.onClick)==null||m.call(e,{type:"click",target:l(),originalEvent:c})};d.useEffect(()=>(n&&p().then(c=>{i(c),c.addTo(n),o.addEventListener("click",u),s()}),()=>{o&&o.removeEventListener("click",u)}),[n]);const p=()=>{const c=v(e);if(c.lngLat){const m=new re.Marker(o,c);return m.setLngLat(c.lngLat),Promise.resolve(m)}else return Promise.reject()},v=c=>{const m={};return Ca.forEach(g=>{g in c&&(m[g]=f(g,c))}),m},f=(c,m)=>{var h;let g=m[c];if(c in D)try{g=(h=D[c])==null?void 0:h.call(D,m[c])}catch{}return g};return X(et,{children:a&&X(r,{children:e.children})})});try{$e.displayName="Marker",$e.__docgenInfo={description:"",displayName:"Marker",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},lngLat:{defaultValue:null,description:"经纬度坐标",name:"lngLat",required:!1,type:{name:"LngLatLike"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"((e: MarkerEvent<MouseEvent | TouchEvent>) => void)"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((e: MarkerEvent<MouseEvent | TouchEvent>) => void)"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: MarkerEvent<MouseEvent | TouchEvent>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MarkerEvent<Event>) => void)"}}}}}catch{}const Pa={data(e,t){t&&t.setData(e)}},Oa={},Re=d.forwardRef((e,t)=>{const{id:n,...r}=e,{map:o}=ue(),[a,i]=d.useState();d.useImperativeHandle(t,()=>a,[a]);const{onInstanceCreated:l}=oe(e,a,{setterMap:Pa,converterMap:Oa});return d.useEffect(()=>{o&&(o.addSource(e.id,{...r,type:"geojson"}),i(o.getSource(n)),l())},[o]),null});try{Re.displayName="Source",Re.__docgenInfo={description:"",displayName:"Source",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}}}catch{}const Ye={onClick:"click",onDoubleClick:"dblclick",onContextMenu:"contextmenu",onMouseDown:"mousedown",onMouseUp:"mouseup",onMouseMove:"mousemove",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseOver:"mouseover",onMouseOut:"mouseout",onTouchStart:"touchstart",onTouchEnd:"touchend",onTouchCancel:"touchcancel"},Da=Object.keys(Ye),qe=e=>{const{before:t,...n}=e,{map:r}=ue();return ae(r,e,{eventMap:Ye,eventList:Da}),d.useEffect(()=>{r&&r.addLayer(n,t)},[r]),null};try{qe.displayName="Layer",qe.__docgenInfo={description:"",displayName:"Layer",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"symbol"'},{value:'"background"'},{value:'"circle"'},{value:'"fill-extrusion"'},{value:'"fill"'},{value:'"heatmap"'},{value:'"hillshade"'},{value:'"line"'},{value:'"raster"'},{value:'"sky"'}]}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"string"}},layout:{defaultValue:null,description:"",name:"layout",required:!1,type:{name:"SymbolLayout | BackgroundLayout | CircleLayout | FillExtrusionLayout | FillLayout | HeatmapLayout | ... 4 more ..."}},paint:{defaultValue:null,description:"",name:"paint",required:!1,type:{name:"SymbolPaint | BackgroundPaint | CirclePaint | FillExtrusionPaint | FillPaint | HeatmapPaint | ... 4 more ..."}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((e: MapLayerTouchEvent) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((e: MapLayerTouchEvent) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((e: MapLayerTouchEvent) => void)"}}}}}catch{}export{Le as M,$e as a,ue as u};
