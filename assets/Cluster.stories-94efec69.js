import{a as c,j as t}from"./jsx-runtime-29545a09.js";import{r as f}from"./index-76fb7be0.js";import{L as y}from"./Language-e34a29b7.js";import{M as g}from"./map-19862b47.js";import{S as h,u as x}from"./index-2ef8a0ed.js";import{S as b,L as s}from"./layer-9c85edd7.js";import"./_commonjsHelpers-de833af9.js";import"./mapbox-gl-801b965a.js";const k={id:"clusters",type:"circle",source:"earthquakes",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]}},_={id:"cluster-count",type:"symbol",source:"earthquakes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}},L={id:"unclustered-point",type:"circle",source:"earthquakes",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"}},S=()=>{const{map:e}=x();return f.useEffect(()=>{e&&e.on("click","clusters",l=>{var a;const o=e.queryRenderedFeatures(l.point,{layers:["clusters"]}),p=(a=o[0].properties)==null?void 0:a.cluster_id;e.getSource("earthquakes").getClusterExpansionZoom(p,(d,m)=>{d||e.easeTo({center:o[0].geometry.coordinates,zoom:m})})})},[e]),null},O={title:"示例/Cluster",render:()=>c(g,{zoom:3,center:[-103.5917,40.6699],style:"mapbox://styles/mapbox/dark-v11",containerStyle:{height:"100vh"},children:[t(h,{children:c(b,{id:"earthquakes",type:"geojson",data:"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson",cluster:!0,clusterMaxZoom:14,clusterRadius:50,children:[t(s,{...k}),t(s,{..._}),t(s,{...L}),t(S,{})]})}),t(y,{})]}),parameters:{layout:"fullscreen"},argTypes:{},args:{lngLat:[-122.414,37.776]}},r={args:{}};var u,i,n;r.parameters={...r.parameters,docs:{...(u=r.parameters)==null?void 0:u.docs,source:{originalSource:`{
  args: {}
}`,...(n=(i=r.parameters)==null?void 0:i.docs)==null?void 0:n.source}}};const P=["Cluster"];export{r as Cluster,P as __namedExportsOrder,O as default};
