import{r as u}from"./index-4g5l5LRQ.js";import{a as y,i as p}from"./map-UcjS3gf5.js";const E=()=>{const t=u.useContext(y);if(!t)throw new Error("The useMap must be used in the Map container");return t},l=t=>{const{isFinishRender:f=!1,children:s}=t,{map:e}=E(),[,F]=u.useState(0),n=u.useRef([0,0,0]),r=u.useRef(0),o=()=>{F(h=>h+1)},a=()=>["031","131"].includes(n.current.join("")),i=()=>{n.current=[1,0,0],o()},c=()=>{n.current[1]=n.current[1]+1,n.current[1]===3&&(r.current=r.current+1),a()&&o()},d=()=>{n.current[2]=1};return u.useEffect(()=>{if(e)return e.on("styledataloading",i),e.on("styledata",c),e.on("style.load",d),()=>{e.off("styledataloading",i),e.off("styledata",c),e.off("style.load",d)}},[e]),p(s)?s(a(),r.current===1):f?a()&&t.children:r.current>0&&t.children};try{l.displayName="StyleLoadFinish",l.__docgenInfo={description:"",displayName:"StyleLoadFinish",props:{isFinishRender:{defaultValue:{value:"false 加载中不卸载子组件"},description:"样式加载完成子组件才可渲染，加载中卸载子组件",name:"isFinishRender",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"子组件，如果为",name:"children",required:!1,type:{name:"ReactNode | ChildrenFun"}}}}}catch{}export{l as S,E as u};
