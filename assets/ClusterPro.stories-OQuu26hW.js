import{j as He,F as ro,a as no}from"./jsx-runtime-5BUNAZ9W.js";import{r as c,R as oo}from"./index-4g5l5LRQ.js";import{L as io}from"./Language-0XBOD4Xk.js";import{c as ao,d as so,e as Ar,r as lo,i as Qr,M as co}from"./map-UcjS3gf5.js";import{m as uo}from"./mapbox-gl-0eWPQeFN.js";import{u as fo,S as ho}from"./index-_W0WQwje.js";import{M as Xr}from"./marker-B-yi0kbh.js";import{E as vo,F as mo,a as go,_ as po,s as Sn,k as xn,l as K,O as Er,n as yo,t as Mn,d as ee,p as _n,f as J,i as Ce,v as Pn,P as bo,q as tt,Q as Lr,y as wo,h as Kr,w as Yr,H as $n,u as On,g as Vr,m as ir,J as Ur,K as Ot,C as mt,c as Co,M as En,I as So,R as xo,S as Mo,x as kn,T as _o}from"./useSize-TYUTyzAd.js";import{a as ar}from"./assertThisInitialized-WXViepx4.js";import{g as Nr,u as Po,P as Rn,i as Tn,_ as en,N as $o,a as Oo,b as zn,z as Eo}from"./zoom-TZDYs6fo.js";import"./index-im-bjvvC.js";import"./_commonjsHelpers-4gQjN7DL.js";var ko=function(){for(var t="",r=0;r<32;r++)switch(r){case 8:case 20:{t+="-".concat(Math.trunc(Math.random()*16).toString(16));break}case 12:{t+="-4";break}case 16:{t+="-".concat((Math.random()*16|0|8).toString(16));break}default:t+=Math.trunc(Math.random()*16).toString(16)}return t},An=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(o,i){return o[0]===r?(n=i,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(r,n){var o=e(this.__entries__,r);~o?this.__entries__[o][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,o=e(n,r);~o&&n.splice(o,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var o=0,i=this.__entries__;o<i.length;o++){var s=i[o];r.call(n,s[1],s[0])}},t}()}(),jr=typeof window<"u"&&typeof document<"u"&&window.document===document,rr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Ro=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(rr):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),To=2;function zo(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&l()}function s(){Ro(i)}function l(){var a=Date.now();if(r){if(a-o<To)return;n=!0}else r=!0,n=!1,setTimeout(s,t);o=a}return l}var Ao=20,Lo=["top","right","bottom","left","width","height","size","weight"],No=typeof MutationObserver<"u",jo=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=zo(this.refresh.bind(this),Ao)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!jr||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),No?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!jr||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,o=Lo.some(function(i){return!!~n.indexOf(i)});o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ln=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},vt=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||rr},Nn=sr(0,0,0,0);function nr(e){return parseFloat(e)||0}function tn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,o){var i=e["border-"+o+"-width"];return n+nr(i)},0)}function Bo(e){for(var t=["top","right","bottom","left"],r={},n=0,o=t;n<o.length;n++){var i=o[n],s=e["padding-"+i];r[i]=nr(s)}return r}function Do(e){var t=e.getBBox();return sr(0,0,t.width,t.height)}function Io(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Nn;var n=vt(e).getComputedStyle(e),o=Bo(n),i=o.left+o.right,s=o.top+o.bottom,l=nr(n.width),a=nr(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+i)!==t&&(l-=tn(n,"left","right")+i),Math.round(a+s)!==r&&(a-=tn(n,"top","bottom")+s)),!Fo(e)){var u=Math.round(l+i)-t,d=Math.round(a+s)-r;Math.abs(u)!==1&&(l-=u),Math.abs(d)!==1&&(a-=d)}return sr(o.left,o.top,l,a)}var Wo=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof vt(e).SVGGraphicsElement}:function(e){return e instanceof vt(e).SVGElement&&typeof e.getBBox=="function"}}();function Fo(e){return e===vt(e).document.documentElement}function Ho(e){return jr?Wo(e)?Do(e):Io(e):Nn}function Vo(e){var t=e.x,r=e.y,n=e.width,o=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return Ln(s,{x:t,y:r,width:n,height:o,top:r,right:t+n,bottom:o+r,left:t}),s}function sr(e,t,r,n){return{x:e,y:t,width:r,height:n}}var Uo=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sr(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Ho(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),qo=function(){function e(t,r){var n=Vo(r);Ln(this,{target:t,contentRect:n})}return e}(),Go=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new An,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof vt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new Uo(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof vt(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new qo(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),jn=typeof WeakMap<"u"?new WeakMap:new An,Bn=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=jo.getInstance(),n=new Go(t,r,this);jn.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Bn.prototype[e]=function(){var t;return(t=jn.get(this))[e].apply(t,arguments)}});var Zo=function(){return typeof rr.ResizeObserver<"u"?rr.ResizeObserver:Bn}(),Jo="[object Symbol]";function Qo(e){return typeof e=="symbol"||ao(e)&&so(e)==Jo}var Xo=/\s/;function Ko(e){for(var t=e.length;t--&&Xo.test(e.charAt(t)););return t}var Yo=/^\s+/;function ei(e){return e&&e.slice(0,Ko(e)+1).replace(Yo,"")}var rn=NaN,ti=/^[-+]0x[0-9a-f]+$/i,ri=/^0b[01]+$/i,ni=/^0o[0-7]+$/i,oi=parseInt;function nn(e){if(typeof e=="number")return e;if(Qo(e))return rn;if(Ar(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ar(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ei(e);var r=ri.test(e);return r||ni.test(e)?oi(e.slice(2),r?2:8):ti.test(e)?rn:+e}var kr=function(){return lo.Date.now()},ii="Expected a function",ai=Math.max,si=Math.min;function li(e,t,r){var n,o,i,s,l,a,u=0,d=!1,f=!1,v=!0;if(typeof e!="function")throw new TypeError(ii);t=nn(t)||0,Ar(r)&&(d=!!r.leading,f="maxWait"in r,i=f?ai(nn(r.maxWait)||0,t):i,v="trailing"in r?!!r.trailing:v);function h(M){var _=n,R=o;return n=o=void 0,u=M,s=e.apply(R,_),s}function p(M){return u=M,l=setTimeout(m,t),d?h(M):s}function C(M){var _=M-a,R=M-u,F=t-_;return f?si(F,i-R):F}function w(M){var _=M-a,R=M-u;return a===void 0||_>=t||_<0||f&&R>=i}function m(){var M=kr();if(w(M))return y(M);l=setTimeout(m,C(M))}function y(M){return l=void 0,v&&n?h(M):(n=o=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=a=o=l=void 0}function g(){return l===void 0?s:y(kr())}function x(){var M=kr(),_=w(M);if(n=arguments,o=this,a=M,_){if(l===void 0)return p(a);if(f)return clearTimeout(l),l=setTimeout(m,t),h(a)}return l===void 0&&(l=setTimeout(m,t)),s}return x.cancel=b,x.flush=g,x}const on=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Rr=1,_t=8;class qr{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const o=n>>4;if(o!==Rr)throw new Error(`Got v${o} data when expected v${Rr}.`);const i=on[n&15];if(!i)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[l]=new Uint32Array(t,4,1);return new qr(l,s,i,t)}constructor(t,r=64,n=Float64Array,o){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const i=on.indexOf(this.ArrayType),s=t*2*this.ArrayType.BYTES_PER_ELEMENT,l=t*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-l%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,_t,t),this.coords=new this.ArrayType(this.data,_t+l+a,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(_t+s+l+a),this.ids=new this.IndexArrayType(this.data,_t,t),this.coords=new this.ArrayType(this.data,_t+l+a,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Rr<<4)+i]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Br(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:l}=this,a=[0,i.length-1,0],u=[];for(;a.length;){const d=a.pop()||0,f=a.pop()||0,v=a.pop()||0;if(f-v<=l){for(let w=v;w<=f;w++){const m=s[2*w],y=s[2*w+1];m>=t&&m<=n&&y>=r&&y<=o&&u.push(i[w])}continue}const h=v+f>>1,p=s[2*h],C=s[2*h+1];p>=t&&p<=n&&C>=r&&C<=o&&u.push(i[h]),(d===0?t<=p:r<=C)&&(a.push(v),a.push(h-1),a.push(1-d)),(d===0?n>=p:o>=C)&&(a.push(h+1),a.push(f),a.push(1-d))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:s}=this,l=[0,o.length-1,0],a=[],u=n*n;for(;l.length;){const d=l.pop()||0,f=l.pop()||0,v=l.pop()||0;if(f-v<=s){for(let w=v;w<=f;w++)an(i[2*w],i[2*w+1],t,r)<=u&&a.push(o[w]);continue}const h=v+f>>1,p=i[2*h],C=i[2*h+1];an(p,C,t,r)<=u&&a.push(o[h]),(d===0?t-n<=p:r-n<=C)&&(l.push(v),l.push(h-1),l.push(1-d)),(d===0?t+n>=p:r+n>=C)&&(l.push(h+1),l.push(f),l.push(1-d))}return a}}function Br(e,t,r,n,o,i){if(o-n<=r)return;const s=n+o>>1;Dn(e,t,s,n,o,i),Br(e,t,r,n,s-1,1-i),Br(e,t,r,s+1,o,1-i)}function Dn(e,t,r,n,o,i){for(;o>n;){if(o-n>600){const u=o-n+1,d=r-n+1,f=Math.log(u),v=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*v*(u-v)/u)*(d-u/2<0?-1:1),p=Math.max(n,Math.floor(r-d*v/u+h)),C=Math.min(o,Math.floor(r+(u-d)*v/u+h));Dn(e,t,r,p,C,i)}const s=t[2*r+i];let l=n,a=o;for(Pt(e,t,n,r),t[2*o+i]>s&&Pt(e,t,n,o);l<a;){for(Pt(e,t,l,a),l++,a--;t[2*l+i]<s;)l++;for(;t[2*a+i]>s;)a--}t[2*n+i]===s?Pt(e,t,n,a):(a++,Pt(e,t,a,o)),a<=r&&(n=a+1),r<=a&&(o=a-1)}}function Pt(e,t,r,n){Tr(e,r,n),Tr(t,2*r,2*n),Tr(t,2*r+1,2*n+1)}function Tr(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function an(e,t,r,n){const o=e-r,i=t-n;return o*o+i*i}const ci={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},sn=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),et=2,Fe=3,zr=4,We=5,In=6;class ui{constructor(t){this.options=Object.assign(Object.create(ci),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:r,minZoom:n,maxZoom:o}=this.options;r&&console.time("total time");const i=`prepare ${t.length} points`;r&&console.time(i),this.points=t;const s=[];for(let a=0;a<t.length;a++){const u=t[a];if(!u.geometry)continue;const[d,f]=u.geometry.coordinates,v=sn(Kt(d)),h=sn(Yt(f));s.push(v,h,1/0,a,-1,1),this.options.reduce&&s.push(0)}let l=this.trees[o+1]=this._createTree(s);r&&console.timeEnd(i);for(let a=o;a>=n;a--){const u=+Date.now();l=this.trees[a]=this._createTree(this._cluster(l,a)),r&&console.log("z%d: %d clusters in %dms",a,l.numItems,+Date.now()-u)}return r&&console.timeEnd("total time"),this}getClusters(t,r){let n=((t[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,t[1]));let i=t[2]===180?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){const f=this.getClusters([n,o,180,s],r),v=this.getClusters([-180,o,i,s],r);return f.concat(v)}const l=this.trees[this._limitZoom(r)],a=l.range(Kt(n),Yt(s),Kt(i),Yt(o)),u=l.data,d=[];for(const f of a){const v=this.stride*f;d.push(u[v+We]>1?ln(u,v,this.clusterProps):this.points[u[v+Fe]])}return d}getChildren(t){const r=this._getOriginId(t),n=this._getOriginZoom(t),o="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(o);const s=i.data;if(r*this.stride>=s.length)throw new Error(o);const l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=s[r*this.stride],u=s[r*this.stride+1],d=i.within(a,u,l),f=[];for(const v of d){const h=v*this.stride;s[h+zr]===t&&f.push(s[h+We]>1?ln(s,h,this.clusterProps):this.points[s[h+Fe]])}if(f.length===0)throw new Error(o);return f}getLeaves(t,r,n){r=r||10,n=n||0;const o=[];return this._appendLeaves(o,t,r,n,0),o}getTile(t,r,n){const o=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:s,radius:l}=this.options,a=l/s,u=(n-a)/i,d=(n+1+a)/i,f={features:[]};return this._addTileFeatures(o.range((r-a)/i,u,(r+1+a)/i,d),o.data,r,n,i,f),r===0&&this._addTileFeatures(o.range(1-a/i,u,1,d),o.data,i,n,i,f),r===i-1&&this._addTileFeatures(o.range(0,u,a/i,d),o.data,-1,n,i,f),f.features.length?f:null}getClusterExpansionZoom(t){let r=this._getOriginZoom(t)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,o,i){const s=this.getChildren(r);for(const l of s){const a=l.properties;if(a&&a.cluster?i+a.point_count<=o?i+=a.point_count:i=this._appendLeaves(t,a.cluster_id,n,o,i):i<o?i++:t.push(l),t.length===n)break}return i}_createTree(t){const r=new qr(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,o,i,s){for(const l of t){const a=l*this.stride,u=r[a+We]>1;let d,f,v;if(u)d=Wn(r,a,this.clusterProps),f=r[a],v=r[a+1];else{const C=this.points[r[a+Fe]];d=C.properties;const[w,m]=C.geometry.coordinates;f=Kt(w),v=Yt(m)}const h={type:1,geometry:[[Math.round(this.options.extent*(f*i-n)),Math.round(this.options.extent*(v*i-o))]],tags:d};let p;u||this.options.generateId?p=r[a+Fe]:p=this.points[r[a+Fe]].id,p!==void 0&&(h.id=p),s.features.push(h)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){const{radius:n,extent:o,reduce:i,minPoints:s}=this.options,l=n/(o*Math.pow(2,r)),a=t.data,u=[],d=this.stride;for(let f=0;f<a.length;f+=d){if(a[f+et]<=r)continue;a[f+et]=r;const v=a[f],h=a[f+1],p=t.within(a[f],a[f+1],l),C=a[f+We];let w=C;for(const m of p){const y=m*d;a[y+et]>r&&(w+=a[y+We])}if(w>C&&w>=s){let m=v*C,y=h*C,b,g=-1;const x=((f/d|0)<<5)+(r+1)+this.points.length;for(const M of p){const _=M*d;if(a[_+et]<=r)continue;a[_+et]=r;const R=a[_+We];m+=a[_]*R,y+=a[_+1]*R,a[_+zr]=x,i&&(b||(b=this._map(a,f,!0),g=this.clusterProps.length,this.clusterProps.push(b)),i(b,this._map(a,_)))}a[f+zr]=x,u.push(m/w,y/w,1/0,x,-1,w),i&&u.push(g)}else{for(let m=0;m<d;m++)u.push(a[f+m]);if(w>1)for(const m of p){const y=m*d;if(!(a[y+et]<=r)){a[y+et]=r;for(let b=0;b<d;b++)u.push(a[y+b])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+We]>1){const s=this.clusterProps[t[r+In]];return n?Object.assign({},s):s}const o=this.points[t[r+Fe]].properties,i=this.options.map(o);return n&&i===o?Object.assign({},i):i}}function ln(e,t,r){return{type:"Feature",id:e[t+Fe],properties:Wn(e,t,r),geometry:{type:"Point",coordinates:[fi(e[t]),di(e[t+1])]}}}function Wn(e,t,r){const n=e[t+We],o=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,i=e[t+In],s=i===-1?{}:Object.assign({},r[i]);return Object.assign(s,{cluster:!0,cluster_id:e[t+Fe],point_count:n,point_count_abbreviated:o})}function Kt(e){return e/360+.5}function Yt(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function fi(e){return(e-.5)*360}function di(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function hi(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Fn(e,t,r){if(e!==null)for(var n,o,i,s,l,a,u,d=0,f=0,v,h=e.type,p=h==="FeatureCollection",C=h==="Feature",w=p?e.features.length:1,m=0;m<w;m++){u=p?e.features[m].geometry:C?e.geometry:e,v=u?u.type==="GeometryCollection":!1,l=v?u.geometries.length:1;for(var y=0;y<l;y++){var b=0,g=0;if(s=v?u.geometries[y]:u,s!==null){a=s.coordinates;var x=s.type;switch(d=r&&(x==="Polygon"||x==="MultiPolygon")?1:0,x){case null:break;case"Point":if(t(a,f,m,b,g)===!1)return!1;f++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<a.length;n++){if(t(a[n],f,m,b,g)===!1)return!1;f++,x==="MultiPoint"&&b++}x==="LineString"&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<a.length;n++){for(o=0;o<a[n].length-d;o++){if(t(a[n][o],f,m,b,g)===!1)return!1;f++}x==="MultiLineString"&&b++,x==="Polygon"&&g++}x==="Polygon"&&b++;break;case"MultiPolygon":for(n=0;n<a.length;n++){for(g=0,o=0;o<a[n].length;o++){for(i=0;i<a[n][o].length-d;i++){if(t(a[n][o][i],f,m,b,g)===!1)return!1;f++}g++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(Fn(s.geometries[n],t,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Dr(e){var t=[1/0,1/0,-1/0,-1/0];return Fn(e,function(r){t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}Dr.default=Dr;const vi={radius:60,minZoom:0,maxZoom:16,extent:512,nodeSize:64,log:!1},mi=(e,t)=>{const{cluster:r,render:n,renderCluster:o,data:i=[],zoomOnClick:s,zoomOnClickPadding:l=20,onClick:a,onClusterClick:u}=e,{map:d}=fo(),[f,v]=c.useState([]),h=c.useMemo(()=>new ui({...vi,...r}),[]);c.useEffect(()=>{if(d)return d.on("zoom",p),d.on("move",p),d.on("resize",p),()=>{d.off("zoom",p),d.off("move",p),d.off("resize",p)}},[d]),c.useEffect(()=>{i&&(h.load(i),p())},[i]),c.useImperativeHandle(t,()=>h,[]);const p=c.useCallback(li(()=>{const m=C(),y=h.getClusters(...m);v(y.map(b=>({...b,id:b.id||ko()})))},500),[]),C=()=>{const m=d.getBounds(),y=d.getZoom();return[[m.getWest(),m.getSouth(),m.getEast(),m.getNorth()],Math.round(y)]},w=m=>{const{properties:y}=m;if(!(y!=null&&y.cluster))return;const b=h.getLeaves(y.cluster_id,1/0),g=Dr(hi(b));d.fitBounds(uo.LngLatBounds.convert(g),{padding:l})};return He(ro,{children:f.map(m=>{const{geometry:y,properties:b}=m,{point_count:g,cluster:x,cluster_id:M}=b;return x?He(Xr,{lngLat:y.coordinates,onClick:()=>{u==null||u(g,M),s&&w(m)},children:Qr(o)?o(g,M):o},m.id):He(Xr,{lngLat:y.coordinates,onClick:()=>{a==null||a(m)},children:Qr(n)?n(m):n},m.id)})})},Ir=c.forwardRef(mi);try{Ir.displayName="MarkerCluster",Ir.__docgenInfo={description:"",displayName:"MarkerCluster",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"Feature<D>[]"}},cluster:{defaultValue:null,description:"聚合参数设置",name:"cluster",required:!1,type:{name:"Options<any, any>"}},zoomOnClick:{defaultValue:{value:"false"},description:"点击聚合点时，是否散开。",name:"zoomOnClick",required:!1,type:{name:"boolean"}},render:{defaultValue:null,description:"非聚合点渲染扩展",name:"render",required:!0,type:{name:"ReactNode | RenderMarkerFun"}},renderCluster:{defaultValue:null,description:"聚合点渲染扩展",name:"renderCluster",required:!1,type:{name:"ReactNode | RenderClusterMarkerFun"}},zoomOnClickPadding:{defaultValue:{value:"20"},description:"添加到给定边界的填充量",name:"zoomOnClickPadding",required:!1,type:{name:"number | PaddingOptions"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((data: Feature<D>) => void)"}},onClusterClick:{defaultValue:null,description:"",name:"onClusterClick",required:!1,type:{name:"((count: number, clusterId: number) => void)"}}}}}catch{}var Wr=c.createContext(null);function gi(e){var t=e.children,r=e.onBatchResize,n=c.useRef(0),o=c.useRef([]),i=c.useContext(Wr),s=c.useCallback(function(l,a,u){n.current+=1;var d=n.current;o.current.push({size:l,element:a,data:u}),Promise.resolve().then(function(){d===n.current&&(r==null||r(o.current),o.current=[])}),i==null||i(l,a,u)},[r,i]);return c.createElement(Wr.Provider,{value:s},t)}var Ve=new Map;function pi(e){e.forEach(function(t){var r,n=t.target;(r=Ve.get(n))===null||r===void 0||r.forEach(function(o){return o(n)})})}var Hn=new Zo(pi);function yi(e,t){Ve.has(e)||(Ve.set(e,new Set),Hn.observe(e)),Ve.get(e).add(t)}function bi(e,t){Ve.has(e)&&(Ve.get(e).delete(t),Ve.get(e).size||(Hn.unobserve(e),Ve.delete(e)))}var wi=function(e){vo(r,e);var t=mo(r);function r(){return go(this,r),t.apply(this,arguments)}return po(r,[{key:"render",value:function(){return this.props.children}}]),r}(c.Component);function Ci(e,t){var r=e.children,n=e.disabled,o=c.useRef(null),i=c.useRef(null),s=c.useContext(Wr),l=typeof r=="function",a=l?r(o):r,u=c.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&c.isValidElement(a)&&Sn(a),f=d?a.ref:null,v=xn(f,o),h=function(){var m;return Er(o.current)||(o.current&&yo(o.current)==="object"?Er((m=o.current)===null||m===void 0?void 0:m.nativeElement):null)||Er(i.current)};c.useImperativeHandle(t,function(){return h()});var p=c.useRef(e);p.current=e;var C=c.useCallback(function(w){var m=p.current,y=m.onResize,b=m.data,g=w.getBoundingClientRect(),x=g.width,M=g.height,_=w.offsetWidth,R=w.offsetHeight,F=Math.floor(x),B=Math.floor(M);if(u.current.width!==F||u.current.height!==B||u.current.offsetWidth!==_||u.current.offsetHeight!==R){var H={width:F,height:B,offsetWidth:_,offsetHeight:R};u.current=H;var U=_===Math.round(x)?x:_,z=R===Math.round(M)?M:R,D=K(K({},H),{},{offsetWidth:U,offsetHeight:z});s==null||s(D,w,b),y&&Promise.resolve().then(function(){y(D,w)})}},[]);return c.useEffect(function(){var w=h();return w&&!n&&yi(w,C),function(){return bi(w,C)}},[o.current,n]),c.createElement(wi,{ref:i},d?c.cloneElement(a,{ref:v}):a)}var Si=c.forwardRef(Ci),xi="rc-observer-key";function Mi(e,t){var r=e.children,n=typeof r=="function"?[r]:Mn(r);return n.map(function(o,i){var s=(o==null?void 0:o.key)||"".concat(xi,"-").concat(i);return c.createElement(Si,ar({},e,{key:s,ref:i===0?t:void 0}),o)})}var lr=c.forwardRef(Mi);lr.Collection=gi;const Et=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function _i(e,t){return Et.reduce((r,n)=>{const o=e[`${n}1`],i=e[`${n}3`],s=e[`${n}6`],l=e[`${n}7`];return Object.assign(Object.assign({},r),t(n,{lightColor:o,lightBorderColor:i,darkColor:s,textColor:l}))},{})}const Pi=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function $i(e){var t=e.prefixCls,r=e.align,n=e.arrow,o=e.arrowPos,i=n||{},s=i.className,l=i.content,a=o.x,u=a===void 0?0:a,d=o.y,f=d===void 0?0:d,v=c.useRef();if(!r||!r.points)return null;var h={position:"absolute"};if(r.autoArrow!==!1){var p=r.points[0],C=r.points[1],w=p[0],m=p[1],y=C[0],b=C[1];w===y||!["t","b"].includes(w)?h.top=f:w==="t"?h.top=0:h.bottom=0,m===b||!["l","r"].includes(m)?h.left=u:m==="l"?h.left=0:h.right=0}return c.createElement("div",{ref:v,className:ee("".concat(t,"-arrow"),s),style:h},l)}function Oi(e){var t=e.prefixCls,r=e.open,n=e.zIndex,o=e.mask,i=e.motion;return o?c.createElement(_n,ar({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var l=s.className;return c.createElement("div",{style:{zIndex:n},className:ee("".concat(t,"-mask"),l)})}):null}var Ei=c.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),ki=c.forwardRef(function(e,t){var r=e.popup,n=e.className,o=e.prefixCls,i=e.style,s=e.target,l=e.onVisibleChanged,a=e.open,u=e.keepDom,d=e.fresh,f=e.onClick,v=e.mask,h=e.arrow,p=e.arrowPos,C=e.align,w=e.motion,m=e.maskMotion,y=e.forceRender,b=e.getPopupContainer,g=e.autoDestroy,x=e.portal,M=e.zIndex,_=e.onMouseEnter,R=e.onMouseLeave,F=e.onPointerEnter,B=e.ready,H=e.offsetX,U=e.offsetY,z=e.offsetR,D=e.offsetB,te=e.onAlign,j=e.onPrepare,E=e.stretch,O=e.targetWidth,Q=e.targetHeight,L=typeof r=="function"?r():r,se=a||u,re=(b==null?void 0:b.length)>0,Se=c.useState(!b||!re),xe=J(Se,2),le=xe[0],ne=xe[1];if(Ce(function(){!le&&re&&s&&ne(!0)},[le,re,s]),!le)return null;var q="auto",$={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(B||!a){var k,N=C.points,oe=C.dynamicInset||((k=C._experimental)===null||k===void 0?void 0:k.dynamicInset),Te=oe&&N[0][1]==="r",Ue=oe&&N[0][0]==="b";Te?($.right=z,$.left=q):($.left=H,$.right=q),Ue?($.bottom=D,$.top=q):($.top=U,$.bottom=q)}var X={};return E&&(E.includes("height")&&Q?X.height=Q:E.includes("minHeight")&&Q&&(X.minHeight=Q),E.includes("width")&&O?X.width=O:E.includes("minWidth")&&O&&(X.minWidth=O)),a||(X.pointerEvents="none"),c.createElement(x,{open:y||se,getContainer:b&&function(){return b(s)},autoDestroy:g},c.createElement(Oi,{prefixCls:o,open:a,zIndex:M,mask:v,motion:m}),c.createElement(lr,{onResize:te,disabled:!a},function(ze){return c.createElement(_n,ar({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(o,"-hidden")},w,{onAppearPrepare:j,onEnterPrepare:j,visible:a,onVisibleChanged:function(ie){var pe;w==null||(pe=w.onVisibleChanged)===null||pe===void 0||pe.call(w,ie),l(ie)}}),function(he,ie){var pe=he.className,A=he.style,$e=ee(o,pe,n);return c.createElement("div",{ref:Pn(ze,t,ie),className:$e,style:K(K(K(K({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},$),X),A),{},{boxSizing:"border-box",zIndex:M},i),onMouseEnter:_,onMouseLeave:R,onPointerEnter:F,onClick:f},h&&c.createElement($i,{prefixCls:o,arrow:h,arrowPos:p,align:C}),c.createElement(Ei,{cache:!a&&!d},L))})}))}),Ri=c.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,o=Sn(r),i=c.useCallback(function(l){bo(t,n?n(l):l)},[n]),s=xn(i,r.ref);return o?c.cloneElement(r,{ref:s}):r}),cn=c.createContext(null);function un(e){return e?Array.isArray(e)?e:[e]:[]}function Ti(e,t,r,n){return c.useMemo(function(){var o=un(r??t),i=un(n??t),s=new Set(o),l=new Set(i);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),l.has("hover")&&(l.delete("hover"),l.add("click"))),[s,l]},[e,t,r,n])}function zi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ai(e,t,r,n){for(var o=r.points,i=Object.keys(e),s=0;s<i.length;s+=1){var l,a=i[s];if(zi((l=e[a])===null||l===void 0?void 0:l.points,o,n))return"".concat(t,"-placement-").concat(a)}return""}function fn(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function Rt(e){return e.ownerDocument.defaultView}function Fr(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var o=Rt(r).getComputedStyle(r),i=o.overflowX,s=o.overflowY,l=o.overflow;[i,s,l].some(function(a){return n.includes(a)})&&t.push(r),r=r.parentElement}return t}function kt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function $t(e){return kt(parseFloat(e),0)}function dn(e,t){var r=K({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var o=Rt(n).getComputedStyle(n),i=o.overflow,s=o.overflowClipMargin,l=o.borderTopWidth,a=o.borderBottomWidth,u=o.borderLeftWidth,d=o.borderRightWidth,f=n.getBoundingClientRect(),v=n.offsetHeight,h=n.clientHeight,p=n.offsetWidth,C=n.clientWidth,w=$t(l),m=$t(a),y=$t(u),b=$t(d),g=kt(Math.round(f.width/p*1e3)/1e3),x=kt(Math.round(f.height/v*1e3)/1e3),M=(p-C-y-b)*g,_=(v-h-w-m)*x,R=w*x,F=m*x,B=y*g,H=b*g,U=0,z=0;if(i==="clip"){var D=$t(s);U=D*g,z=D*x}var te=f.x+B-U,j=f.y+R-z,E=te+f.width+2*U-B-H-M,O=j+f.height+2*z-R-F-_;r.left=Math.max(r.left,te),r.top=Math.max(r.top,j),r.right=Math.min(r.right,E),r.bottom=Math.min(r.bottom,O)}}),r}function hn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function vn(e,t){var r=t||[],n=J(r,2),o=n[0],i=n[1];return[hn(e.width,o),hn(e.height,i)]}function mn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function ft(e,t){var r=t[0],n=t[1],o,i;return r==="t"?i=e.y:r==="b"?i=e.y+e.height:i=e.y+e.height/2,n==="l"?o=e.x:n==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:i}}function Ie(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,o){return o===t?r[n]||"c":n}).join("")}function Li(e,t,r,n,o,i,s){var l=c.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),a=J(l,2),u=a[0],d=a[1],f=c.useRef(0),v=c.useMemo(function(){return t?Fr(t):[]},[t]),h=c.useRef({}),p=function(){h.current={}};e||p();var C=tt(function(){if(t&&r&&e){let me=function(Re,Ye){var ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e,ut=L.x+Re,xt=L.y+Ye,Mt=ut+k,Jt=xt+$,Mr=Math.max(ut,ct.left),_r=Math.max(xt,ct.top),Pr=Math.min(Mt,ct.right),$r=Math.min(Jt,ct.bottom);return Math.max(0,(Pr-Mr)*($r-_r))},Zt=function(){Ne=L.y+T,je=Ne+$,Be=L.x+V,it=Be+k};var y,b,g=t,x=g.ownerDocument,M=Rt(g),_=M.getComputedStyle(g),R=_.width,F=_.height,B=_.position,H=g.style.left,U=g.style.top,z=g.style.right,D=g.style.bottom,te=g.style.overflow,j=K(K({},o[n]),i),E=x.createElement("div");(y=g.parentElement)===null||y===void 0||y.appendChild(E),E.style.left="".concat(g.offsetLeft,"px"),E.style.top="".concat(g.offsetTop,"px"),E.style.position=B,E.style.height="".concat(g.offsetHeight,"px"),E.style.width="".concat(g.offsetWidth,"px"),g.style.left="0",g.style.top="0",g.style.right="auto",g.style.bottom="auto",g.style.overflow="hidden";var O;if(Array.isArray(r))O={x:r[0],y:r[1],width:0,height:0};else{var Q=r.getBoundingClientRect();O={x:Q.x,y:Q.y,width:Q.width,height:Q.height}}var L=g.getBoundingClientRect(),se=x.documentElement,re=se.clientWidth,Se=se.clientHeight,xe=se.scrollWidth,le=se.scrollHeight,ne=se.scrollTop,q=se.scrollLeft,$=L.height,k=L.width,N=O.height,oe=O.width,Te={left:0,top:0,right:re,bottom:Se},Ue={left:-q,top:-ne,right:xe-q,bottom:le-ne},X=j.htmlRegion,ze="visible",he="visibleFirst";X!=="scroll"&&X!==he&&(X=ze);var ie=X===he,pe=dn(Ue,v),A=dn(Te,v),$e=X===ze?A:pe,ce=ie?A:$e;g.style.left="auto",g.style.top="auto",g.style.right="0",g.style.bottom="0";var rt=g.getBoundingClientRect();g.style.left=H,g.style.top=U,g.style.right=z,g.style.bottom=D,g.style.overflow=te,(b=g.parentElement)===null||b===void 0||b.removeChild(E);var G=kt(Math.round(k/parseFloat(R)*1e3)/1e3),ae=kt(Math.round($/parseFloat(F)*1e3)/1e3);if(G===0||ae===0||Lr(r)&&!wo(r))return;var ye=j.offset,be=j.targetOffset,cr=vn(L,ye),Tt=J(cr,2),we=Tt[0],ve=Tt[1],Me=vn(O,be),zt=J(Me,2),At=zt[0],ur=zt[1];O.x-=At,O.y-=ur;var nt=j.points||[],fe=J(nt,2),Ae=fe[0],fr=fe[1],Oe=mn(fr),de=mn(Ae),Lt=ft(O,Oe),gt=ft(L,de),Le=K({},j),V=Lt.x-gt.x+we,T=Lt.y-gt.y+ve,_e=me(V,T),Pe=me(V,T,A),qe=ft(O,["t","l"]),pt=ft(L,["t","l"]),yt=ft(O,["b","r"]),bt=ft(L,["b","r"]),ue=j.overflow||{},dr=ue.adjustX,Nt=ue.adjustY,ot=ue.shiftX,wt=ue.shiftY,jt=function(Ye){return typeof Ye=="boolean"?Ye:Ye>=0},Ne,je,Be,it;Zt();var Ct=jt(Nt),St=de[0]===Oe[0];if(Ct&&de[0]==="t"&&(je>ce.bottom||h.current.bt)){var Ge=T;St?Ge-=$-N:Ge=qe.y-bt.y-ve;var Ze=me(V,Ge),hr=me(V,Ge,A);Ze>_e||Ze===_e&&(!ie||hr>=Pe)?(h.current.bt=!0,T=Ge,ve=-ve,Le.points=[Ie(de,0),Ie(Oe,0)]):h.current.bt=!1}if(Ct&&de[0]==="b"&&(Ne<ce.top||h.current.tb)){var Y=T;St?Y+=$-N:Y=yt.y-pt.y-ve;var Bt=me(V,Y),vr=me(V,Y,A);Bt>_e||Bt===_e&&(!ie||vr>=Pe)?(h.current.tb=!0,T=Y,ve=-ve,Le.points=[Ie(de,0),Ie(Oe,0)]):h.current.tb=!1}var Dt=jt(dr),It=de[1]===Oe[1];if(Dt&&de[1]==="l"&&(it>ce.right||h.current.rl)){var Je=V;It?Je-=k-oe:Je=qe.x-bt.x-we;var Wt=me(Je,T),mr=me(Je,T,A);Wt>_e||Wt===_e&&(!ie||mr>=Pe)?(h.current.rl=!0,V=Je,we=-we,Le.points=[Ie(de,1),Ie(Oe,1)]):h.current.rl=!1}if(Dt&&de[1]==="r"&&(Be<ce.left||h.current.lr)){var Qe=V;It?Qe+=k-oe:Qe=yt.x-pt.x-we;var Ft=me(Qe,T),at=me(Qe,T,A);Ft>_e||Ft===_e&&(!ie||at>=Pe)?(h.current.lr=!0,V=Qe,we=-we,Le.points=[Ie(de,1),Ie(Oe,1)]):h.current.lr=!1}Zt();var Ee=ot===!0?0:ot;typeof Ee=="number"&&(Be<A.left&&(V-=Be-A.left-we,O.x+oe<A.left+Ee&&(V+=O.x-A.left+oe-Ee)),it>A.right&&(V-=it-A.right-we,O.x>A.right-Ee&&(V+=O.x-A.right+Ee)));var Xe=wt===!0?0:wt;typeof Xe=="number"&&(Ne<A.top&&(T-=Ne-A.top-ve,O.y+N<A.top+Xe&&(T+=O.y-A.top+N-Xe)),je>A.bottom&&(T-=je-A.bottom-ve,O.y>A.bottom-Xe&&(T+=O.y-A.bottom+Xe)));var st=L.x+V,lt=st+k,ke=L.y+T,Ht=ke+$,Ke=O.x,De=Ke+oe,Vt=O.y,gr=Vt+N,pr=Math.max(st,Ke),Ut=Math.min(lt,De),yr=(pr+Ut)/2,br=yr-st,wr=Math.max(ke,Vt),qt=Math.min(Ht,gr),Cr=(wr+qt)/2,Sr=Cr-ke;s==null||s(t,Le);var Gt=rt.right-L.x-(V+L.width),xr=rt.bottom-L.y-(T+L.height);d({ready:!0,offsetX:V/G,offsetY:T/ae,offsetR:Gt/G,offsetB:xr/ae,arrowX:br/G,arrowY:Sr/ae,scaleX:G,scaleY:ae,align:Le})}}),w=function(){f.current+=1;var b=f.current;Promise.resolve().then(function(){f.current===b&&C()})},m=function(){d(function(b){return K(K({},b),{},{ready:!1})})};return Ce(m,[n]),Ce(function(){e||m()},[e]),[u.ready,u.offsetX,u.offsetY,u.offsetR,u.offsetB,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,w]}function Ni(e,t,r,n,o){Ce(function(){if(e&&t&&r){let f=function(){n(),o()};var i=t,s=r,l=Fr(i),a=Fr(s),u=Rt(s),d=new Set([u].concat(Kr(l),Kr(a)));return d.forEach(function(v){v.addEventListener("scroll",f,{passive:!0})}),u.addEventListener("resize",f,{passive:!0}),n(),function(){d.forEach(function(v){v.removeEventListener("scroll",f),u.removeEventListener("resize",f)})}}},[e,t,r])}function ji(e,t,r,n,o,i,s,l){var a=c.useRef(e),u=c.useRef(!1);a.current!==e&&(u.current=!0,a.current=e),c.useEffect(function(){var d=Yr(function(){u.current=!1});return function(){Yr.cancel(d)}},[e]),c.useEffect(function(){if(t&&n&&(!o||i)){var d=function(){var M=!1,_=function(B){var H=B.target;M=s(H)},R=function(B){var H=B.target;!u.current&&a.current&&!M&&!s(H)&&l(!1)};return[_,R]},f=d(),v=J(f,2),h=v[0],p=v[1],C=d(),w=J(C,2),m=w[0],y=w[1],b=Rt(n);b.addEventListener("mousedown",h,!0),b.addEventListener("click",p,!0),b.addEventListener("contextmenu",p,!0);var g=Nr(r);return g&&(g.addEventListener("mousedown",m,!0),g.addEventListener("click",y,!0),g.addEventListener("contextmenu",y,!0)),function(){b.removeEventListener("mousedown",h,!0),b.removeEventListener("click",p,!0),b.removeEventListener("contextmenu",p,!0),g&&(g.removeEventListener("mousedown",m,!0),g.removeEventListener("click",y,!0),g.removeEventListener("contextmenu",y,!0))}}},[t,r,n,o,i])}var Bi=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Di(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rn,t=c.forwardRef(function(r,n){var o=r.prefixCls,i=o===void 0?"rc-trigger-popup":o,s=r.children,l=r.action,a=l===void 0?"hover":l,u=r.showAction,d=r.hideAction,f=r.popupVisible,v=r.defaultPopupVisible,h=r.onPopupVisibleChange,p=r.afterPopupVisibleChange,C=r.mouseEnterDelay,w=r.mouseLeaveDelay,m=w===void 0?.1:w,y=r.focusDelay,b=r.blurDelay,g=r.mask,x=r.maskClosable,M=x===void 0?!0:x,_=r.getPopupContainer,R=r.forceRender,F=r.autoDestroy,B=r.destroyPopupOnHide,H=r.popup,U=r.popupClassName,z=r.popupStyle,D=r.popupPlacement,te=r.builtinPlacements,j=te===void 0?{}:te,E=r.popupAlign,O=r.zIndex,Q=r.stretch,L=r.getPopupClassNameFromAlign,se=r.fresh,re=r.alignPoint,Se=r.onPopupClick,xe=r.onPopupAlign,le=r.arrow,ne=r.popupMotion,q=r.maskMotion,$=r.popupTransitionName,k=r.popupAnimation,N=r.maskTransitionName,oe=r.maskAnimation,Te=r.className,Ue=r.getTriggerDOMNode,X=$n(r,Bi),ze=F||B||!1,he=c.useState(!1),ie=J(he,2),pe=ie[0],A=ie[1];Ce(function(){A(Pi())},[]);var $e=c.useRef({}),ce=c.useContext(cn),rt=c.useMemo(function(){return{registerSubPopup:function(P,I){$e.current[P]=I,ce==null||ce.registerSubPopup(P,I)}}},[ce]),G=Po(),ae=c.useState(null),ye=J(ae,2),be=ye[0],cr=ye[1],Tt=tt(function(S){Lr(S)&&be!==S&&cr(S),ce==null||ce.registerSubPopup(G,S)}),we=c.useState(null),ve=J(we,2),Me=ve[0],zt=ve[1],At=c.useRef(null),ur=tt(function(S){Lr(S)&&Me!==S&&(zt(S),At.current=S)}),nt=c.Children.only(s),fe=(nt==null?void 0:nt.props)||{},Ae={},fr=tt(function(S){var P,I,Z=Me;return(Z==null?void 0:Z.contains(S))||((P=Nr(Z))===null||P===void 0?void 0:P.host)===S||S===Z||(be==null?void 0:be.contains(S))||((I=Nr(be))===null||I===void 0?void 0:I.host)===S||S===be||Object.values($e.current).some(function(W){return(W==null?void 0:W.contains(S))||S===W})}),Oe=fn(i,ne,k,$),de=fn(i,q,oe,N),Lt=c.useState(v||!1),gt=J(Lt,2),Le=gt[0],V=gt[1],T=f??Le,_e=tt(function(S){f===void 0&&V(S)});Ce(function(){V(f||!1)},[f]);var Pe=c.useRef(T);Pe.current=T;var qe=c.useRef([]);qe.current=[];var pt=tt(function(S){var P;_e(S),((P=qe.current[qe.current.length-1])!==null&&P!==void 0?P:T)!==S&&(qe.current.push(S),h==null||h(S))}),yt=c.useRef(),bt=function(){clearTimeout(yt.current)},ue=function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;bt(),I===0?pt(P):yt.current=setTimeout(function(){pt(P)},I*1e3)};c.useEffect(function(){return bt},[]);var dr=c.useState(!1),Nt=J(dr,2),ot=Nt[0],wt=Nt[1];Ce(function(S){(!S||T)&&wt(!0)},[T]);var jt=c.useState(null),Ne=J(jt,2),je=Ne[0],Be=Ne[1],it=c.useState([0,0]),Ct=J(it,2),St=Ct[0],Ge=Ct[1],Ze=function(P){Ge([P.clientX,P.clientY])},hr=Li(T,be,re?St:Me,D,j,E,xe),Y=J(hr,11),Bt=Y[0],vr=Y[1],Dt=Y[2],It=Y[3],Je=Y[4],Wt=Y[5],mr=Y[6],Qe=Y[7],Ft=Y[8],at=Y[9],Ee=Y[10],Xe=Ti(pe,a,u,d),st=J(Xe,2),lt=st[0],ke=st[1],Ht=lt.has("click"),Ke=ke.has("click")||ke.has("contextMenu"),De=tt(function(){ot||Ee()}),Vt=function(){Pe.current&&re&&Ke&&ue(!1)};Ni(T,Me,be,De,Vt),Ce(function(){De()},[St,D]),Ce(function(){T&&!(j!=null&&j[D])&&De()},[JSON.stringify(E)]);var gr=c.useMemo(function(){var S=Ai(j,i,at,re);return ee(S,L==null?void 0:L(at))},[at,L,j,i,re]);c.useImperativeHandle(n,function(){return{nativeElement:At.current,forceAlign:De}});var pr=c.useState(0),Ut=J(pr,2),yr=Ut[0],br=Ut[1],wr=c.useState(0),qt=J(wr,2),Cr=qt[0],Sr=qt[1],Gt=function(){if(Q&&Me){var P=Me.getBoundingClientRect();br(P.width),Sr(P.height)}},xr=function(){Gt(),De()},me=function(P){wt(!1),Ee(),p==null||p(P)},Zt=function(){return new Promise(function(P){Gt(),Be(function(){return P})})};Ce(function(){je&&(Ee(),je(),Be(null))},[je]);function Re(S,P,I,Z){Ae[S]=function(W){var Qt;Z==null||Z(W),ue(P,I);for(var Or=arguments.length,Jr=new Array(Or>1?Or-1:0),Xt=1;Xt<Or;Xt++)Jr[Xt-1]=arguments[Xt];(Qt=fe[S])===null||Qt===void 0||Qt.call.apply(Qt,[fe,W].concat(Jr))}}(Ht||Ke)&&(Ae.onClick=function(S){var P;Pe.current&&Ke?ue(!1):!Pe.current&&Ht&&(Ze(S),ue(!0));for(var I=arguments.length,Z=new Array(I>1?I-1:0),W=1;W<I;W++)Z[W-1]=arguments[W];(P=fe.onClick)===null||P===void 0||P.call.apply(P,[fe,S].concat(Z))}),ji(T,Ke,Me,be,g,M,fr,ue);var Ye=lt.has("hover"),ct=ke.has("hover"),ut,xt;Ye&&(Re("onMouseEnter",!0,C,function(S){Ze(S)}),Re("onPointerEnter",!0,C,function(S){Ze(S)}),ut=function(){(T||ot)&&ue(!0,C)},re&&(Ae.onMouseMove=function(S){var P;(P=fe.onMouseMove)===null||P===void 0||P.call(fe,S)})),ct&&(Re("onMouseLeave",!1,m),Re("onPointerLeave",!1,m),xt=function(){ue(!1,m)}),lt.has("focus")&&Re("onFocus",!0,y),ke.has("focus")&&Re("onBlur",!1,b),lt.has("contextMenu")&&(Ae.onContextMenu=function(S){var P;Pe.current&&ke.has("contextMenu")?ue(!1):(Ze(S),ue(!0)),S.preventDefault();for(var I=arguments.length,Z=new Array(I>1?I-1:0),W=1;W<I;W++)Z[W-1]=arguments[W];(P=fe.onContextMenu)===null||P===void 0||P.call.apply(P,[fe,S].concat(Z))}),Te&&(Ae.className=ee(fe.className,Te));var Mt=K(K({},fe),Ae),Jt={},Mr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Mr.forEach(function(S){X[S]&&(Jt[S]=function(){for(var P,I=arguments.length,Z=new Array(I),W=0;W<I;W++)Z[W]=arguments[W];(P=Mt[S])===null||P===void 0||P.call.apply(P,[Mt].concat(Z)),X[S].apply(X,Z)})});var _r=c.cloneElement(nt,K(K({},Mt),Jt)),Pr={x:Wt,y:mr},$r=le?K({},le!==!0?le:{}):null;return c.createElement(c.Fragment,null,c.createElement(lr,{disabled:!T,ref:ur,onResize:xr},c.createElement(Ri,{getTriggerDOMNode:Ue},_r)),c.createElement(cn.Provider,{value:rt},c.createElement(ki,{portal:e,ref:Tt,prefixCls:i,popup:H,className:ee(U,gr),style:z,target:Me,onMouseEnter:ut,onMouseLeave:xt,onPointerEnter:ut,zIndex:O,open:T,keepDom:ot,fresh:se,onClick:Se,mask:g,motion:Oe,maskMotion:de,onVisibleChanged:me,onPrepare:Zt,forceRender:R,autoDestroy:ze,getPopupContainer:_,align:at,arrow:$r,arrowPos:Pr,ready:Bt,offsetX:vr,offsetY:Dt,offsetR:It,offsetB:Je,onAlign:De,stretch:Q,targetWidth:yr/Qe,targetHeight:Cr/Ft})))});return t}const Ii=Di(Rn),Vn=["xxl","xl","lg","md","sm","xs"],Wi=e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}),Fi=e=>{const t=e,r=[].concat(Vn).reverse();return r.forEach((n,o)=>{const i=n.toUpperCase(),s=`screen${i}Min`,l=`screen${i}`;if(!(t[s]<=t[l]))throw new Error(`${s}<=${l} fails : !(${t[s]}<=${t[l]})`);if(o<r.length-1){const a=`screen${i}Max`;if(!(t[l]<=t[a]))throw new Error(`${l}<=${a} fails : !(${t[l]}<=${t[a]})`);const d=`screen${r[o+1].toUpperCase()}Min`;if(!(t[a]<=t[d]))throw new Error(`${a}<=${d} fails : !(${t[a]}<=${t[d]})`)}}),e};function Hi(){const[,e]=On(),t=Wi(Fi(e));return oo.useMemo(()=>{const r=new Map;let n=-1,o={};return{matchHandlers:{},dispatch(i){return o=i,r.forEach(s=>s(o)),r.size>=1},subscribe(i){return r.size||this.register(),n+=1,r.set(n,i),i(o),n},unsubscribe(i){r.delete(i),r.size||this.unregister()},unregister(){Object.keys(t).forEach(i=>{const s=t[i],l=this.matchHandlers[s];l==null||l.mql.removeListener(l==null?void 0:l.listener)}),r.clear()},register(){Object.keys(t).forEach(i=>{const s=t[i],l=u=>{let{matches:d}=u;this.dispatch(Object.assign(Object.assign({},o),{[i]:d}))},a=window.matchMedia(s);a.addListener(l),this.matchHandlers[s]={mql:a,listener:l},l(a)})},responsiveMap:t}},[e])}function Vi(){const[,e]=c.useReducer(t=>t+1,0);return e}function Ui(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const t=c.useRef({}),r=Vi(),n=Hi();return Ce(()=>{const o=n.subscribe(i=>{t.current=i,e&&r()});return()=>n.unsubscribe(o)},[]),t.current}const qi=c.createContext({}),Hr=qi,Gi=e=>{const{antCls:t,componentCls:r,iconCls:n,avatarBg:o,avatarColor:i,containerSize:s,containerSizeLG:l,containerSizeSM:a,textFontSize:u,textFontSizeLG:d,textFontSizeSM:f,borderRadius:v,borderRadiusLG:h,borderRadiusSM:p,lineWidth:C,lineType:w,calc:m}=e,y=(b,g,x)=>({width:b,height:b,lineHeight:Ot(m(b).sub(m(C).mul(2)).equal()),borderRadius:"50%",[`&${r}-square`]:{borderRadius:x},[`${r}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${r}-icon`]:{fontSize:g,[`> ${n}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},Ur(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${Ot(C)} ${w} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),y(s,u,v)),{"&-lg":Object.assign({},y(l,d,h)),"&-sm":Object.assign({},y(a,f,p)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Zi=e=>{const{componentCls:t,groupBorderColor:r,groupOverlapping:n,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:n}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},Ji=e=>{const{controlHeight:t,controlHeightLG:r,controlHeightSM:n,fontSize:o,fontSizeLG:i,fontSizeXL:s,fontSizeHeading3:l,marginXS:a,marginXXS:u,colorBorderBg:d}=e;return{containerSize:t,containerSizeLG:r,containerSizeSM:n,textFontSize:Math.round((i+s)/2),textFontSizeLG:l,textFontSizeSM:o,groupSpace:u,groupOverlapping:-a,groupBorderColor:d}},Un=Vr("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:r}=e,n=ir(e,{avatarBg:r,avatarColor:t});return[Gi(n),Zi(n)]},Ji);var Qi=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Xi=(e,t)=>{const[r,n]=c.useState(1),[o,i]=c.useState(!1),[s,l]=c.useState(!0),a=c.useRef(null),u=c.useRef(null),d=Pn(t,a),{getPrefixCls:f,avatar:v}=c.useContext(mt),h=c.useContext(Hr),p=()=>{if(!u.current||!a.current)return;const $=u.current.offsetWidth,k=a.current.offsetWidth;if($!==0&&k!==0){const{gap:N=4}=e;N*2<k&&n(k-N*2<$?(k-N*2)/$:1)}};c.useEffect(()=>{i(!0)},[]),c.useEffect(()=>{l(!0),n(1)},[e.src]),c.useEffect(p,[e.gap]);const C=()=>{const{onError:$}=e;($==null?void 0:$())!==!1&&l(!1)},{prefixCls:w,shape:m,size:y,src:b,srcSet:g,icon:x,className:M,rootClassName:_,alt:R,draggable:F,children:B,crossOrigin:H}=e,U=Qi(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),z=Co($=>{var k,N;return(N=(k=y??(h==null?void 0:h.size))!==null&&k!==void 0?k:$)!==null&&N!==void 0?N:"default"}),D=Object.keys(typeof z=="object"?z||{}:{}).some($=>["xs","sm","md","lg","xl","xxl"].includes($)),te=Ui(D),j=c.useMemo(()=>{if(typeof z!="object")return{};const $=Vn.find(N=>te[N]),k=z[$];return k?{width:k,height:k,lineHeight:`${k}px`,fontSize:k&&(x||B)?k/2:18}:{}},[te,z]),E=f("avatar",w),O=En(E),[Q,L,se]=Un(E,O),re=ee({[`${E}-lg`]:z==="large",[`${E}-sm`]:z==="small"}),Se=c.isValidElement(b),xe=m||(h==null?void 0:h.shape)||"circle",le=ee(E,re,v==null?void 0:v.className,`${E}-${xe}`,{[`${E}-image`]:Se||b&&s,[`${E}-icon`]:!!x},se,O,M,_,L),ne=typeof z=="number"?{width:z,height:z,lineHeight:`${z}px`,fontSize:x?z/2:18}:{};let q;if(typeof b=="string"&&s)q=c.createElement("img",{src:b,draggable:F,srcSet:g,onError:C,alt:R,crossOrigin:H});else if(Se)q=b;else if(x)q=x;else if(o||r!==1){const $=`scale(${r}) translateX(-50%)`,k={msTransform:$,WebkitTransform:$,transform:$},N=typeof z=="number"?{lineHeight:`${z}px`}:{};q=c.createElement(lr,{onResize:p},c.createElement("span",{className:`${E}-string`,ref:u,style:Object.assign(Object.assign({},N),k)},B))}else q=c.createElement("span",{className:`${E}-string`,style:{opacity:0},ref:u},B);return delete U.onError,delete U.gap,Q(c.createElement("span",Object.assign({},U,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ne),j),v==null?void 0:v.style),U.style),className:le,ref:d}),q))},Ki=c.forwardRef(Xi),qn=Ki,or=e=>e?typeof e=="function"?e():e:null;function Gr(e){var t=e.children,r=e.prefixCls,n=e.id,o=e.overlayInnerStyle,i=e.className,s=e.style;return c.createElement("div",{className:ee("".concat(r,"-content"),i),style:s},c.createElement("div",{className:"".concat(r,"-inner"),id:n,role:"tooltip",style:o},typeof t=="function"?t():t))}var dt={shiftX:64,adjustY:1},ht={adjustX:1,shiftY:!0},ge=[0,0],Yi={left:{points:["cr","cl"],overflow:ht,offset:[-4,0],targetOffset:ge},right:{points:["cl","cr"],overflow:ht,offset:[4,0],targetOffset:ge},top:{points:["bc","tc"],overflow:dt,offset:[0,-4],targetOffset:ge},bottom:{points:["tc","bc"],overflow:dt,offset:[0,4],targetOffset:ge},topLeft:{points:["bl","tl"],overflow:dt,offset:[0,-4],targetOffset:ge},leftTop:{points:["tr","tl"],overflow:ht,offset:[-4,0],targetOffset:ge},topRight:{points:["br","tr"],overflow:dt,offset:[0,-4],targetOffset:ge},rightTop:{points:["tl","tr"],overflow:ht,offset:[4,0],targetOffset:ge},bottomRight:{points:["tr","br"],overflow:dt,offset:[0,4],targetOffset:ge},rightBottom:{points:["bl","br"],overflow:ht,offset:[4,0],targetOffset:ge},bottomLeft:{points:["tl","bl"],overflow:dt,offset:[0,4],targetOffset:ge},leftBottom:{points:["br","bl"],overflow:ht,offset:[-4,0],targetOffset:ge}},ea=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],ta=function(t,r){var n=t.overlayClassName,o=t.trigger,i=o===void 0?["hover"]:o,s=t.mouseEnterDelay,l=s===void 0?0:s,a=t.mouseLeaveDelay,u=a===void 0?.1:a,d=t.overlayStyle,f=t.prefixCls,v=f===void 0?"rc-tooltip":f,h=t.children,p=t.onVisibleChange,C=t.afterVisibleChange,w=t.transitionName,m=t.animation,y=t.motion,b=t.placement,g=b===void 0?"right":b,x=t.align,M=x===void 0?{}:x,_=t.destroyTooltipOnHide,R=_===void 0?!1:_,F=t.defaultVisible,B=t.getTooltipContainer,H=t.overlayInnerStyle;t.arrowContent;var U=t.overlay,z=t.id,D=t.showArrow,te=D===void 0?!0:D,j=$n(t,ea),E=c.useRef(null);c.useImperativeHandle(r,function(){return E.current});var O=K({},j);"visible"in t&&(O.popupVisible=t.visible);var Q=function(){return c.createElement(Gr,{key:"content",prefixCls:v,id:z,overlayInnerStyle:H},U)};return c.createElement(Ii,ar({popupClassName:n,prefixCls:v,popup:Q,action:i,builtinPlacements:Yi,popupPlacement:g,ref:E,popupAlign:M,getPopupContainer:B,onPopupVisibleChange:p,afterPopupVisibleChange:C,popupTransitionName:w,popupAnimation:m,popupMotion:y,defaultPopupVisible:F,autoDestroy:R,mouseLeaveDelay:u,popupStyle:d,mouseEnterDelay:l,arrow:te},O),h)};const ra=c.forwardRef(ta);function Gn(e){const{sizePopupArrow:t,borderRadiusXS:r,borderRadiusOuter:n}=e,o=t/2,i=0,s=o,l=n*1/Math.sqrt(2),a=o-n*(1-1/Math.sqrt(2)),u=o-r*(1/Math.sqrt(2)),d=n*(Math.sqrt(2)-1)+r*(1/Math.sqrt(2)),f=2*o-u,v=d,h=2*o-l,p=a,C=2*o-i,w=s,m=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),y=n*(Math.sqrt(2)-1),b=`polygon(${y}px 100%, 50% ${y}px, ${2*o-y}px 100%, ${y}px 100%)`,g=`path('M ${i} ${s} A ${n} ${n} 0 0 0 ${l} ${a} L ${u} ${d} A ${r} ${r} 0 0 1 ${f} ${v} L ${h} ${p} A ${n} ${n} 0 0 0 ${C} ${w} Z')`;return{arrowShadowWidth:m,arrowPath:g,arrowPolygon:b}}const na=(e,t,r)=>{const{sizePopupArrow:n,arrowPolygon:o,arrowPath:i,arrowShadowWidth:s,borderRadiusXS:l,calc:a}=e;return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:a(n).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ot(l)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"}}},Zn=8;function Zr(e){const{contentRadius:t,limitVerticalRadius:r}=e,n=t>12?t+2:12;return{arrowOffsetHorizontal:n,arrowOffsetVertical:r?Zn:n}}function er(e,t){return e?t:{}}function Jn(e,t,r){const{componentCls:n,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:s}=e,{arrowDistance:l=0,arrowPlacement:a={left:!0,right:!0,top:!0,bottom:!0}}=r||{};return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},na(e,t,o)),{"&:before":{background:t}})]},er(!!a.top,{[[`&-placement-top > ${n}-arrow`,`&-placement-topLeft > ${n}-arrow`,`&-placement-topRight > ${n}-arrow`].join(",")]:{bottom:l,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${n}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-topRight > ${n}-arrow`]:{right:{_skip_check_:!0,value:s}}})),er(!!a.bottom,{[[`&-placement-bottom > ${n}-arrow`,`&-placement-bottomLeft > ${n}-arrow`,`&-placement-bottomRight > ${n}-arrow`].join(",")]:{top:l,transform:"translateY(-100%)"},[`&-placement-bottom > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${n}-arrow`]:{left:{_skip_check_:!0,value:s}},[`&-placement-bottomRight > ${n}-arrow`]:{right:{_skip_check_:!0,value:s}}})),er(!!a.left,{[[`&-placement-left > ${n}-arrow`,`&-placement-leftTop > ${n}-arrow`,`&-placement-leftBottom > ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:l},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${n}-arrow`]:{top:i},[`&-placement-leftBottom > ${n}-arrow`]:{bottom:i}})),er(!!a.right,{[[`&-placement-right > ${n}-arrow`,`&-placement-rightTop > ${n}-arrow`,`&-placement-rightBottom > ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:l},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${n}-arrow`]:{top:i},[`&-placement-rightBottom > ${n}-arrow`]:{bottom:i}}))}}function oa(e,t,r,n){if(n===!1)return{adjustX:!1,adjustY:!1};const o=n&&typeof n=="object"?n:{},i={};switch(e){case"top":case"bottom":i.shiftX=t.arrowOffsetHorizontal*2+r,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=t.arrowOffsetVertical*2+r,i.shiftX=!0,i.adjustX=!0;break}const s=Object.assign(Object.assign({},i),o);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const gn={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},ia={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},aa=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function sa(e){const{arrowWidth:t,autoAdjustOverflow:r,arrowPointAtCenter:n,offset:o,borderRadius:i,visibleFirst:s}=e,l=t/2,a={};return Object.keys(gn).forEach(u=>{const d=n&&ia[u]||gn[u],f=Object.assign(Object.assign({},d),{offset:[0,0],dynamicInset:!0});switch(a[u]=f,aa.has(u)&&(f.autoArrow=!1),u){case"top":case"topLeft":case"topRight":f.offset[1]=-l-o;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=l+o;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-l-o;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=l+o;break}const v=Zr({contentRadius:i,limitVerticalRadius:!0});if(n)switch(u){case"topLeft":case"bottomLeft":f.offset[0]=-v.arrowOffsetHorizontal-l;break;case"topRight":case"bottomRight":f.offset[0]=v.arrowOffsetHorizontal+l;break;case"leftTop":case"rightTop":f.offset[1]=-v.arrowOffsetHorizontal-l;break;case"leftBottom":case"rightBottom":f.offset[1]=v.arrowOffsetHorizontal+l;break}f.overflow=oa(u,v,t,r),s&&(f.htmlRegion="visibleFirst")}),a}const la=e=>{const{componentCls:t,tooltipMaxWidth:r,tooltipColor:n,tooltipBg:o,tooltipBorderRadius:i,zIndexPopup:s,controlHeight:l,boxShadowSecondary:a,paddingSM:u,paddingXS:d}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Ur(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${t}-inner`]:{minWidth:l,minHeight:l,padding:`${Ot(e.calc(u).div(2).equal())} ${Ot(d)}`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:i,boxShadow:a,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(i,Zn)}},[`${t}-content`]:{position:"relative"}}),_i(e,(f,v)=>{let{darkColor:h}=v;return{[`&${t}-${f}`]:{[`${t}-inner`]:{backgroundColor:h},[`${t}-arrow`]:{"--antd-arrow-background-color":h}}}})),{"&-rtl":{direction:"rtl"}})},Jn(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},ca=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Zr({contentRadius:e.borderRadius,limitVerticalRadius:!0})),Gn(ir(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Qn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Vr("Tooltip",n=>{const{borderRadius:o,colorTextLightSolid:i,colorBgSpotlight:s}=n,l=ir(n,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:o,tooltipBg:s});return[la(l),Tn(n,"zoom-big-fast")]},ca,{resetStyle:!1,injectStyle:t})(e)},ua=Et.map(e=>`${e}-inverse`);function fa(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(en(ua),en(Et)).includes(e):Et.includes(e)}function Xn(e,t){const r=fa(t),n=ee({[`${e}-${t}`]:t&&r}),o={},i={};return t&&!r&&(o.background=t,i["--antd-arrow-background-color"]=t),{className:n,overlayStyle:o,arrowStyle:i}}const da=e=>{const{prefixCls:t,className:r,placement:n="top",title:o,color:i,overlayInnerStyle:s}=e,{getPrefixCls:l}=c.useContext(mt),a=l("tooltip",t),[u,d,f]=Qn(a),v=Xn(a,i),h=v.arrowStyle,p=Object.assign(Object.assign({},s),v.overlayStyle),C=ee(d,f,a,`${a}-pure`,`${a}-placement-${n}`,r,v.className);return u(c.createElement("div",{className:C,style:h},c.createElement("div",{className:`${a}-arrow`}),c.createElement(Gr,Object.assign({},e,{className:d,prefixCls:a,overlayInnerStyle:p}),o)))},ha=da;var va=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Kn=c.forwardRef((e,t)=>{var r,n;const{prefixCls:o,openClassName:i,getTooltipContainer:s,overlayClassName:l,color:a,overlayInnerStyle:u,children:d,afterOpenChange:f,afterVisibleChange:v,destroyTooltipOnHide:h,arrow:p=!0,title:C,overlay:w,builtinPlacements:m,arrowPointAtCenter:y=!1,autoAdjustOverflow:b=!0}=e,g=!!p,[,x]=On(),{getPopupContainer:M,getPrefixCls:_,direction:R}=c.useContext(mt),F=_o(),B=c.useRef(null),H=()=>{var G;(G=B.current)===null||G===void 0||G.forceAlign()};c.useImperativeHandle(t,()=>({forceAlign:H,forcePopupAlign:()=>{F.deprecated(!1,"forcePopupAlign","forceAlign"),H()}}));const[U,z]=So(!1,{value:(r=e.open)!==null&&r!==void 0?r:e.visible,defaultValue:(n=e.defaultOpen)!==null&&n!==void 0?n:e.defaultVisible}),D=!C&&!w&&C!==0,te=G=>{var ae,ye;z(D?!1:G),D||((ae=e.onOpenChange)===null||ae===void 0||ae.call(e,G),(ye=e.onVisibleChange)===null||ye===void 0||ye.call(e,G))},j=c.useMemo(()=>{var G,ae;let ye=y;return typeof p=="object"&&(ye=(ae=(G=p.pointAtCenter)!==null&&G!==void 0?G:p.arrowPointAtCenter)!==null&&ae!==void 0?ae:y),m||sa({arrowPointAtCenter:ye,autoAdjustOverflow:b,arrowWidth:g?x.sizePopupArrow:0,borderRadius:x.borderRadius,offset:x.marginXXS,visibleFirst:!0})},[y,p,m,x]),E=c.useMemo(()=>C===0?C:w||C||"",[w,C]),O=c.createElement($o,null,typeof E=="function"?E():E),{getPopupContainer:Q,placement:L="top",mouseEnterDelay:se=.1,mouseLeaveDelay:re=.1,overlayStyle:Se,rootClassName:xe}=e,le=va(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),ne=_("tooltip",o),q=_(),$=e["data-popover-inject"];let k=U;!("open"in e)&&!("visible"in e)&&D&&(k=!1);const N=xo(d)&&!Mo(d)?d:c.createElement("span",null,d),oe=N.props,Te=!oe.className||typeof oe.className=="string"?ee(oe.className,i||`${ne}-open`):oe.className,[Ue,X,ze]=Qn(ne,!$),he=Xn(ne,a),ie=he.arrowStyle,pe=Object.assign(Object.assign({},u),he.overlayStyle),A=ee(l,{[`${ne}-rtl`]:R==="rtl"},he.className,xe,X,ze),[$e,ce]=Oo("Tooltip",le.zIndex),rt=c.createElement(ra,Object.assign({},le,{zIndex:$e,showArrow:g,placement:L,mouseEnterDelay:se,mouseLeaveDelay:re,prefixCls:ne,overlayClassName:A,overlayStyle:Object.assign(Object.assign({},ie),Se),getTooltipContainer:Q||s||M,ref:B,builtinPlacements:j,overlay:O,visible:k,onVisibleChange:te,afterVisibleChange:f??v,overlayInnerStyle:pe,arrowContent:c.createElement("span",{className:`${ne}-arrow-content`}),motion:{motionName:zn(q,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!h}),k?kn(N,{className:Te}):N);return Ue(c.createElement(Eo.Provider,{value:ce},rt))});Kn._InternalPanelDoNotUseOrYouWillBeFired=ha;const ma=Kn,ga=e=>{const{componentCls:t,popoverColor:r,titleMinWidth:n,fontWeightStrong:o,innerPadding:i,boxShadowSecondary:s,colorTextHeading:l,borderRadiusLG:a,zIndexPopup:u,titleMarginBottom:d,colorBgElevated:f,popoverBg:v,titleBorderBottom:h,innerContentPadding:p,titlePadding:C}=e;return[{[t]:Object.assign(Object.assign({},Ur(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":f,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:v,backgroundClip:"padding-box",borderRadius:a,boxShadow:s,padding:i},[`${t}-title`]:{minWidth:n,marginBottom:d,color:l,fontWeight:o,borderBottom:h,padding:C},[`${t}-inner-content`]:{color:r,padding:p}})},Jn(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},pa=e=>{const{componentCls:t}=e;return{[t]:Et.map(r=>{const n=e[`${r}6`];return{[`&${t}-${r}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}})}},ya=e=>{const{lineWidth:t,controlHeight:r,fontHeight:n,padding:o,wireframe:i,zIndexPopupBase:s,borderRadiusLG:l,marginXS:a,lineType:u,colorSplit:d,paddingSM:f}=e,v=r-n,h=v/2,p=v/2-t,C=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:s+30},Gn(e)),Zr({contentRadius:l,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:a,titlePadding:i?`${h}px ${C}px ${p}px`:0,titleBorderBottom:i?`${t}px ${u} ${d}`:"none",innerContentPadding:i?`${f}px ${C}px`:0})},Yn=Vr("Popover",e=>{const{colorBgElevated:t,colorText:r}=e,n=ir(e,{popoverBg:t,popoverColor:r});return[ga(n),pa(n),Tn(n,"zoom-big")]},ya,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var ba=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const wa=(e,t,r)=>!t&&!r?null:c.createElement(c.Fragment,null,t&&c.createElement("div",{className:`${e}-title`},or(t)),c.createElement("div",{className:`${e}-inner-content`},or(r))),Ca=e=>{const{hashId:t,prefixCls:r,className:n,style:o,placement:i="top",title:s,content:l,children:a}=e;return c.createElement("div",{className:ee(t,r,`${r}-pure`,`${r}-placement-${i}`,n),style:o},c.createElement("div",{className:`${r}-arrow`}),c.createElement(Gr,Object.assign({},e,{className:t,prefixCls:r}),a||wa(r,s,l)))},Sa=e=>{const{prefixCls:t,className:r}=e,n=ba(e,["prefixCls","className"]),{getPrefixCls:o}=c.useContext(mt),i=o("popover",t),[s,l,a]=Yn(i);return s(c.createElement(Ca,Object.assign({},n,{prefixCls:i,hashId:l,className:ee(r,a)})))},xa=Sa;var Ma=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const _a=e=>{let{title:t,content:r,prefixCls:n}=e;return c.createElement(c.Fragment,null,t&&c.createElement("div",{className:`${n}-title`},or(t)),c.createElement("div",{className:`${n}-inner-content`},or(r)))},eo=c.forwardRef((e,t)=>{const{prefixCls:r,title:n,content:o,overlayClassName:i,placement:s="top",trigger:l="hover",mouseEnterDelay:a=.1,mouseLeaveDelay:u=.1,overlayStyle:d={}}=e,f=Ma(e,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:v}=c.useContext(mt),h=v("popover",r),[p,C,w]=Yn(h),m=v(),y=ee(i,C,w);return p(c.createElement(ma,Object.assign({placement:s,trigger:l,mouseEnterDelay:a,mouseLeaveDelay:u,overlayStyle:d},f,{prefixCls:h,overlayClassName:y,ref:t,overlay:n||o?c.createElement(_a,{prefixCls:h,title:n,content:o}):null,transitionName:zn(m,"zoom-big",f.transitionName),"data-popover-inject":!0})))});eo._InternalPanelDoNotUseOrYouWillBeFired=xa;const Pa=eo,pn=e=>{const{size:t,shape:r}=c.useContext(Hr),n=c.useMemo(()=>({size:e.size||t,shape:e.shape||r}),[e.size,e.shape,t,r]);return c.createElement(Hr.Provider,{value:n},e.children)},$a=e=>{const{getPrefixCls:t,direction:r}=c.useContext(mt),{prefixCls:n,className:o,rootClassName:i,style:s,maxCount:l,maxStyle:a,size:u,shape:d,maxPopoverPlacement:f="top",maxPopoverTrigger:v="hover",children:h}=e,p=t("avatar",n),C=`${p}-group`,w=En(p),[m,y,b]=Un(p,w),g=ee(C,{[`${C}-rtl`]:r==="rtl"},b,w,o,i,y),x=Mn(h).map((_,R)=>kn(_,{key:`avatar-key-${R}`})),M=x.length;if(l&&l<M){const _=x.slice(0,l),R=x.slice(l,M);return _.push(c.createElement(Pa,{key:"avatar-popover-key",content:R,trigger:v,placement:f,overlayClassName:`${C}-popover`},c.createElement(qn,{style:a},`+${M-l}`))),m(c.createElement(pn,{shape:d,size:u},c.createElement("div",{className:g,style:s},_)))}return m(c.createElement(pn,{shape:d,size:u},c.createElement("div",{className:g,style:s},x)))},Oa=$a,to=qn;to.Group=Oa;const yn=to,Ea=()=>[100+Math.random()*20,30+Math.random()*20],ka=(e=10)=>Array(e).fill(!0).map((t,r)=>({type:"Feature",geometry:{type:"Point",coordinates:Ea()},properties:{id:r,name:`name${r}`}})),Ha={title:"示例/ClusterPro",render:()=>{const[e]=c.useState(ka()),t=c.useRef(null);return no(co,{zoom:3,center:[116.36904455256712,39.94939362625391],style:"mapbox://styles/mapbox/dark-v11",containerStyle:{height:"100vh"},children:[He(ho,{children:He(Ir,{ref:t,data:e,zoomOnClick:!0,render:He(yn,{style:{backgroundColor:"#fde3cf",color:"#f56a00"},children:"U"}),renderCluster:r=>He(yn,{size:54,style:{backgroundColor:"#87d068"},children:r}),onClick:r=>{console.log(r)},onClusterClick:(r,n)=>{console.log(r),t.current&&console.log(t.current.getLeaves(n,1/0))}})}),He(io,{})]})},parameters:{layout:"fullscreen"},argTypes:{},args:{lngLat:[-122.414,37.776]}},tr={args:{}};var bn,wn,Cn;tr.parameters={...tr.parameters,docs:{...(bn=tr.parameters)==null?void 0:bn.docs,source:{originalSource:`{
  args: {}
}`,...(Cn=(wn=tr.parameters)==null?void 0:wn.docs)==null?void 0:Cn.source}}};const Va=["ClusterPro"];export{tr as ClusterPro,Va as __namedExportsOrder,Ha as default};
