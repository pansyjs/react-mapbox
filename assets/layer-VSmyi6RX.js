import{a as at,j as B,F as ot}from"./jsx-runtime-5BUNAZ9W.js";import{M as oe}from"./mapbox-gl-oa9XOBpX.js";import{r as c,R as ut}from"./index-4g5l5LRQ.js";import{r as le}from"./index-qTf6isfD.js";const Ie=c.createContext({});function it(e){var t=c.useRef(e);return t.current=e,t}var lt=!!(typeof window<"u"&&window.document&&window.document.createElement),G,H;lt&&(!((G=window)===null||G===void 0||(H=G.navigator)===null||H===void 0)&&H.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);var Fe=function(t){return typeof t=="function"};function N(e){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(e)}function st(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function u(a,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=r.has(a);if(s)return!1;if(a===o)return!0;if(n&&l>1)return!1;r.add(a);var i=l+1;if(Array.isArray(a)){if(!Array.isArray(o)||a.length!==o.length)return!1;for(var d=0;d<a.length;d++)if(!u(a[d],o[d],i))return!1;return!0}if(a&&o&&N(a)==="object"&&N(o)==="object"){var v=Object.keys(a);return v.length!==Object.keys(o).length?!1:v.every(function(f){return u(a[f],o[f],i)})}return!1}return u(e,t)}var ct=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return st(t,n)},dt=function(t){return function(n,r){var u=c.useRef(),a=c.useRef(0);(r===void 0||!ct(r,u.current))&&(u.current=r,a.current+=1),t(n,[a.current])}};function J(e){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(e)}function Be(e){typeof e!="function"&&console.error("useUnmount expected parameter is a function, got ".concat(J(e)));var t=it(e);c.useEffect(function(){return function(){t.current()}},[])}var ft=dt(c.useEffect);function pt(e,t){return typeof e=="function"?e.length?e(t):e():e}function vt(e,t){return ht(e)||gt(e,t)||yt(e,t)||mt()}function mt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(e,t){if(e){if(typeof e=="string")return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}}function se(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,u,a,o,l=[],s=!0,i=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(d){i=!0,u=d}finally{try{if(!s&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(i)throw u}}return l}}function ht(e){if(Array.isArray(e))return e}function Et(e){var t=c.useState(e),n=vt(t,2),r=n[0],u=n[1],a=c.useRef(r);a.current=r;var o=c.useCallback(function(s){a.current=pt(s,a.current),u(a.current)},[]),l=c.useCallback(function(){return a.current},[]);return[r,o,l]}var bt=function(t,n){return t!==n};function Mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt,n=c.useRef(),r=c.useRef();return t(r.current,e)&&(n.current=r.current,r.current=e),n.current}function ce(e,t){return Ct(e)||Tt(e,t)||St(e,t)||_t()}function _t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(e,t){if(e){if(typeof e=="string")return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}}function de(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],u=!0,a=!1,o,l;try{for(n=n.call(e);!(u=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));u=!0);}catch(s){a=!0,l=s}finally{try{!u&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Ct(e){if(Array.isArray(e))return e}var At=function(){var t=c.useState(function(){return document.createElement("div")}),n=ce(t,1),r=n[0],u=c.useState({render:function(){return null},remove:function(){return null}}),a=ce(u,2),o=a[0],l=a[1],s=c.useCallback(function(i){var d=function(p){var m=p.children;return m?le.createPortal(m,i):null},v=function(p){p&&le.unmountComponentAtNode(p)};return{render:d,remove:v}},[]);return c.useEffect(function(){r&&o.remove();var i=s(r);return l(i),function(){i.remove(r)}},[r]),{Portal:o.render,container:r}};const wt=(e,t)=>e?e.map((n,r)=>Object.is(e[r],t==null?void 0:t[r])?-1:r).filter(n=>n>=0):t?t.map((n,r)=>r):[],xt=(e,t)=>{const n=c.useRef();c.useEffect(()=>{const r=wt(n.current,t),u=n.current;return n.current=t,e(r,u,t)},t)},ue=(e,t,n)=>{const{eventMap:r={},eventList:u=[]}=n;xt((a=[],o,l)=>{if(!e)return;let s=a.filter(i=>!!i).map(i=>i-1);a.includes(0)&&(s=u.map((i,d)=>d)),s.forEach(i=>{const d=r[u[i]],v=o==null?void 0:o[i+1],f=l==null?void 0:l[i+1];v&&e.off(d,v),f&&e.on(d,f)})},[e,...u.map(a=>t[a])]),Be(()=>{e&&u.forEach(a=>{const o=r[a],l=t[a];o&&l&&e.off(o,l)})})};var Ne=typeof global=="object"&&global&&global.Object===Object&&global,Lt=typeof self=="object"&&self&&self.Object===Object&&self,M=Ne||Lt||Function("return this")(),x=M.Symbol,Ze=Object.prototype,Dt=Ze.hasOwnProperty,Pt=Ze.toString,D=x?x.toStringTag:void 0;function Ot(e){var t=Dt.call(e,D),n=e[D];try{e[D]=void 0;var r=!0}catch{}var u=Pt.call(e);return r&&(t?e[D]=n:delete e[D]),u}var Rt=Object.prototype,qt=Rt.toString;function jt(e){return qt.call(e)}var $t="[object Null]",Vt="[object Undefined]",fe=x?x.toStringTag:void 0;function $(e){return e==null?e===void 0?Vt:$t:fe&&fe in Object(e)?Ot(e):jt(e)}function R(e){return e!=null&&typeof e=="object"}var Z=Array.isArray;function ze(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var It="[object AsyncFunction]",Ft="[object Function]",Bt="[object GeneratorFunction]",Nt="[object Proxy]";function Ue(e){if(!ze(e))return!1;var t=$(e);return t==Ft||t==Bt||t==It||t==Nt}var K=M["__core-js_shared__"],pe=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zt(e){return!!pe&&pe in e}var zt=Function.prototype,Ut=zt.toString;function A(e){if(e!=null){try{return Ut.call(e)}catch{}try{return e+""}catch{}}return""}var Wt=/[\\^$.*+?()[\]{}|]/g,kt=/^\[object .+?Constructor\]$/,Gt=Function.prototype,Ht=Object.prototype,Kt=Gt.toString,Xt=Ht.hasOwnProperty,Yt=RegExp("^"+Kt.call(Xt).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jt(e){if(!ze(e)||Zt(e))return!1;var t=Ue(e)?Yt:kt;return t.test(A(e))}function Qt(e,t){return e==null?void 0:e[t]}function L(e,t){var n=Qt(e,t);return Jt(n)?n:void 0}var Q=L(M,"WeakMap"),en=9007199254740991,tn=/^(?:0|[1-9]\d*)$/;function nn(e,t){var n=typeof e;return t=t??en,!!t&&(n=="number"||n!="symbol"&&tn.test(e))&&e>-1&&e%1==0&&e<t}function We(e,t){return e===t||e!==e&&t!==t}var rn=9007199254740991;function ke(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rn}function an(e){return e!=null&&ke(e.length)&&!Ue(e)}var on=Object.prototype;function un(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||on;return e===n}function ln(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var sn="[object Arguments]";function ve(e){return R(e)&&$(e)==sn}var Ge=Object.prototype,cn=Ge.hasOwnProperty,dn=Ge.propertyIsEnumerable,fn=ve(function(){return arguments}())?ve:function(e){return R(e)&&cn.call(e,"callee")&&!dn.call(e,"callee")};function pn(){return!1}var He=typeof exports=="object"&&exports&&!exports.nodeType&&exports,me=He&&typeof module=="object"&&module&&!module.nodeType&&module,vn=me&&me.exports===He,ye=vn?M.Buffer:void 0,mn=ye?ye.isBuffer:void 0,ee=mn||pn,yn="[object Arguments]",gn="[object Array]",hn="[object Boolean]",En="[object Date]",bn="[object Error]",Mn="[object Function]",_n="[object Map]",Sn="[object Number]",Tn="[object Object]",Cn="[object RegExp]",An="[object Set]",wn="[object String]",xn="[object WeakMap]",Ln="[object ArrayBuffer]",Dn="[object DataView]",Pn="[object Float32Array]",On="[object Float64Array]",Rn="[object Int8Array]",qn="[object Int16Array]",jn="[object Int32Array]",$n="[object Uint8Array]",Vn="[object Uint8ClampedArray]",In="[object Uint16Array]",Fn="[object Uint32Array]",g={};g[Pn]=g[On]=g[Rn]=g[qn]=g[jn]=g[$n]=g[Vn]=g[In]=g[Fn]=!0;g[yn]=g[gn]=g[Ln]=g[hn]=g[Dn]=g[En]=g[bn]=g[Mn]=g[_n]=g[Sn]=g[Tn]=g[Cn]=g[An]=g[wn]=g[xn]=!1;function Bn(e){return R(e)&&ke(e.length)&&!!g[$(e)]}function Nn(e){return function(t){return e(t)}}var Ke=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=Ke&&typeof module=="object"&&module&&!module.nodeType&&module,Zn=O&&O.exports===Ke,X=Zn&&Ne.process,ge=function(){try{var e=O&&O.require&&O.require("util").types;return e||X&&X.binding&&X.binding("util")}catch{}}(),he=ge&&ge.isTypedArray,Xe=he?Nn(he):Bn,zn=Object.prototype,Un=zn.hasOwnProperty;function Wn(e,t){var n=Z(e),r=!n&&fn(e),u=!n&&!r&&ee(e),a=!n&&!r&&!u&&Xe(e),o=n||r||u||a,l=o?ln(e.length,String):[],s=l.length;for(var i in e)(t||Un.call(e,i))&&!(o&&(i=="length"||u&&(i=="offset"||i=="parent")||a&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||nn(i,s)))&&l.push(i);return l}function kn(e,t){return function(n){return e(t(n))}}var Gn=kn(Object.keys,Object),Hn=Object.prototype,Kn=Hn.hasOwnProperty;function Xn(e){if(!un(e))return Gn(e);var t=[];for(var n in Object(e))Kn.call(e,n)&&n!="constructor"&&t.push(n);return t}function Yn(e){return an(e)?Wn(e):Xn(e)}var q=L(Object,"create");function Jn(){this.__data__=q?q(null):{},this.size=0}function Qn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var er="__lodash_hash_undefined__",tr=Object.prototype,nr=tr.hasOwnProperty;function rr(e){var t=this.__data__;if(q){var n=t[e];return n===er?void 0:n}return nr.call(t,e)?t[e]:void 0}var ar=Object.prototype,or=ar.hasOwnProperty;function ur(e){var t=this.__data__;return q?t[e]!==void 0:or.call(t,e)}var ir="__lodash_hash_undefined__";function lr(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&t===void 0?ir:t,this}function C(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}C.prototype.clear=Jn;C.prototype.delete=Qn;C.prototype.get=rr;C.prototype.has=ur;C.prototype.set=lr;function sr(){this.__data__=[],this.size=0}function U(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}var cr=Array.prototype,dr=cr.splice;function fr(e){var t=this.__data__,n=U(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():dr.call(t,n,1),--this.size,!0}function pr(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]}function vr(e){return U(this.__data__,e)>-1}function mr(e,t){var n=this.__data__,r=U(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function _(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=sr;_.prototype.delete=fr;_.prototype.get=pr;_.prototype.has=vr;_.prototype.set=mr;var j=L(M,"Map");function yr(){this.size=0,this.__data__={hash:new C,map:new(j||_),string:new C}}function gr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function W(e,t){var n=e.__data__;return gr(t)?n[typeof t=="string"?"string":"hash"]:n.map}function hr(e){var t=W(this,e).delete(e);return this.size-=t?1:0,t}function Er(e){return W(this,e).get(e)}function br(e){return W(this,e).has(e)}function Mr(e,t){var n=W(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function w(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}w.prototype.clear=yr;w.prototype.delete=hr;w.prototype.get=Er;w.prototype.has=br;w.prototype.set=Mr;function _r(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}function Sr(){this.__data__=new _,this.size=0}function Tr(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Cr(e){return this.__data__.get(e)}function Ar(e){return this.__data__.has(e)}var wr=200;function xr(e,t){var n=this.__data__;if(n instanceof _){var r=n.__data__;if(!j||r.length<wr-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new w(r)}return n.set(e,t),this.size=n.size,this}function S(e){var t=this.__data__=new _(e);this.size=t.size}S.prototype.clear=Sr;S.prototype.delete=Tr;S.prototype.get=Cr;S.prototype.has=Ar;S.prototype.set=xr;function Lr(e,t){for(var n=-1,r=e==null?0:e.length,u=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[u++]=o)}return a}function Dr(){return[]}var Pr=Object.prototype,Or=Pr.propertyIsEnumerable,Ee=Object.getOwnPropertySymbols,Rr=Ee?function(e){return e==null?[]:(e=Object(e),Lr(Ee(e),function(t){return Or.call(e,t)}))}:Dr;const qr=Rr;function jr(e,t,n){var r=t(e);return Z(e)?r:_r(r,n(e))}function be(e){return jr(e,Yn,qr)}var te=L(M,"DataView"),ne=L(M,"Promise"),re=L(M,"Set"),Me="[object Map]",$r="[object Object]",_e="[object Promise]",Se="[object Set]",Te="[object WeakMap]",Ce="[object DataView]",Vr=A(te),Ir=A(j),Fr=A(ne),Br=A(re),Nr=A(Q),T=$;(te&&T(new te(new ArrayBuffer(1)))!=Ce||j&&T(new j)!=Me||ne&&T(ne.resolve())!=_e||re&&T(new re)!=Se||Q&&T(new Q)!=Te)&&(T=function(e){var t=$(e),n=t==$r?e.constructor:void 0,r=n?A(n):"";if(r)switch(r){case Vr:return Ce;case Ir:return Me;case Fr:return _e;case Br:return Se;case Nr:return Te}return t});const Ae=T;var Zr=M.Uint8Array;const we=Zr;var zr="__lodash_hash_undefined__";function Ur(e){return this.__data__.set(e,zr),this}function Wr(e){return this.__data__.has(e)}function z(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new w;++t<n;)this.add(e[t])}z.prototype.add=z.prototype.push=Ur;z.prototype.has=Wr;function kr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Gr(e,t){return e.has(t)}var Hr=1,Kr=2;function Ye(e,t,n,r,u,a){var o=n&Hr,l=e.length,s=t.length;if(l!=s&&!(o&&s>l))return!1;var i=a.get(e),d=a.get(t);if(i&&d)return i==t&&d==e;var v=-1,f=!0,p=n&Kr?new z:void 0;for(a.set(e,t),a.set(t,e);++v<l;){var m=e[v],y=t[v];if(r)var h=o?r(y,m,v,t,e,a):r(m,y,v,e,t,a);if(h!==void 0){if(h)continue;f=!1;break}if(p){if(!kr(t,function(b,E){if(!Gr(p,E)&&(m===b||u(m,b,n,r,a)))return p.push(E)})){f=!1;break}}else if(!(m===y||u(m,y,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f}function Xr(e){var t=-1,n=Array(e.size);return e.forEach(function(r,u){n[++t]=[u,r]}),n}function Yr(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Jr=1,Qr=2,ea="[object Boolean]",ta="[object Date]",na="[object Error]",ra="[object Map]",aa="[object Number]",oa="[object RegExp]",ua="[object Set]",ia="[object String]",la="[object Symbol]",sa="[object ArrayBuffer]",ca="[object DataView]",xe=x?x.prototype:void 0,Y=xe?xe.valueOf:void 0;function da(e,t,n,r,u,a,o){switch(n){case ca:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sa:return!(e.byteLength!=t.byteLength||!a(new we(e),new we(t)));case ea:case ta:case aa:return We(+e,+t);case na:return e.name==t.name&&e.message==t.message;case oa:case ia:return e==t+"";case ra:var l=Xr;case ua:var s=r&Jr;if(l||(l=Yr),e.size!=t.size&&!s)return!1;var i=o.get(e);if(i)return i==t;r|=Qr,o.set(e,t);var d=Ye(l(e),l(t),r,u,a,o);return o.delete(e),d;case la:if(Y)return Y.call(e)==Y.call(t)}return!1}var fa=1,pa=Object.prototype,va=pa.hasOwnProperty;function ma(e,t,n,r,u,a){var o=n&fa,l=be(e),s=l.length,i=be(t),d=i.length;if(s!=d&&!o)return!1;for(var v=s;v--;){var f=l[v];if(!(o?f in t:va.call(t,f)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var y=!0;a.set(e,t),a.set(t,e);for(var h=o;++v<s;){f=l[v];var b=e[f],E=t[f];if(r)var ie=o?r(E,b,f,t,e,a):r(b,E,f,e,t,a);if(!(ie===void 0?b===E||u(b,E,n,r,a):ie)){y=!1;break}h||(h=f=="constructor")}if(y&&!h){var V=e.constructor,I=t.constructor;V!=I&&"constructor"in e&&"constructor"in t&&!(typeof V=="function"&&V instanceof V&&typeof I=="function"&&I instanceof I)&&(y=!1)}return a.delete(e),a.delete(t),y}var ya=1,Le="[object Arguments]",De="[object Array]",F="[object Object]",ga=Object.prototype,Pe=ga.hasOwnProperty;function ha(e,t,n,r,u,a){var o=Z(e),l=Z(t),s=o?De:Ae(e),i=l?De:Ae(t);s=s==Le?F:s,i=i==Le?F:i;var d=s==F,v=i==F,f=s==i;if(f&&ee(e)){if(!ee(t))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new S),o||Xe(e)?Ye(e,t,n,r,u,a):da(e,t,s,n,r,u,a);if(!(n&ya)){var p=d&&Pe.call(e,"__wrapped__"),m=v&&Pe.call(t,"__wrapped__");if(p||m){var y=p?e.value():e,h=m?t.value():t;return a||(a=new S),u(y,h,n,r,a)}}return f?(a||(a=new S),ma(e,t,n,r,u,a)):!1}function Je(e,t,n,r,u){return e===t?!0:e==null||t==null||!R(e)&&!R(t)?e!==e&&t!==t:ha(e,t,n,r,Je,u)}function Ea(e,t){return Je(e,t)}const ba=e=>e[0].toUpperCase()+e.slice(1,e.length);function Qe(e,t,{setterMap:n={},converterMap:r={}}={}){const u=Mt(e);ft(()=>{t&&o(e,!0)},[e]),Be(()=>{t&&"remove"in t&&t.remove()});const a=()=>{o(e,!1)},o=(l,s=!0)=>{if(t)try{Object.keys(l).forEach(i=>{if(Fe(e[i])&&/^on[A-Z]/.test(i))return;let d=!0;if(s&&(d=!Ea(l[i],u==null?void 0:u[i])),!d)return;let v=l[i];if(i in r&&(v=r[i](l[i])),i in n)n[i](v,t);else{const f=`set${ba(i)}`;f in t&&t[f](v)}})}catch(i){console.error(i)}};return{onInstanceCreated:a}}const Ma=["accessToken","antialias","attributionControl","bearingSnap","bounds","hash","interactive","clickTolerance","pitchWithRotate","customAttribution","cooperativeGestures","logoPosition","failIfMajorPerformanceCaveat","preserveDrawingBuffer","refreshExpiredTiles","trackResize","fitBoundsOptions","maxTileCacheSize","transformRequest","collectResourceTiming","fadeDuration","crossSourceCollisions","optimizeForTerrain","locale","localFontFamily","localIdeographFontFamily","testMode"],_a=["center","zoom","minZoom","maxZoom","style","maxBounds","dragPan","renderWorldCopies","pitch","maxPitch","minPitch","bearing","projection","touchPitch","boxZoom","scrollZoom","dragRotate","dragPan","keyboard","touchZoomRotate","doubleClickZoom"],Sa=_a.concat(Ma),Ta={touchPitch(e,t){if(t){if(e){t.touchPitch.enable();return}t.touchPitch.disable()}},scrollZoom(e,t){if(t){if(e){t.scrollZoom.enable();return}t.scrollZoom.disable()}},boxZoom(e,t){if(t){if(e){t.boxZoom.enable();return}t.boxZoom.disable()}},dragRotate(e,t){if(t){if(e){t.dragRotate.enable();return}t.dragRotate.disable()}},dragPan(e,t){if(t){if(e){t.dragPan.enable();return}t.dragPan.disable()}},keyboard(e,t){if(t){if(e){t.keyboard.enable();return}t.keyboard.disable()}},touchZoomRotate(e,t){if(t){if(e){t.touchZoomRotate.enable();return}t.touchZoomRotate.disable()}},doubleClickZoom(e,t){if(t){if(e){t.doubleClickZoom.enable();return}t.doubleClickZoom.disable()}}},Ca={},et={onError:"error",onLoad:"load",onIdle:"idle",onRemove:"remove",onRender:"render",onResize:"resize",onWebglContextLost:"webglcontextlost",onWebglContextRestored:"webglcontextrestored",onDataloading:"dataloading",onData:"data",onTileDataLoading:"tiledataloading",onSourceDataLoading:"sourcedataloading",onStyleDataLoading:"styledataloading",onStyleLoad:"style.load",onStyleImportLoad:"style.import.load",onSourceData:"sourcedata",onStyleData:"styledata",onBoxZoomCancel:"boxzoomcancel",onBoxZoomStart:"boxzoomstart",onBoxZoomEnd:"boxzoomend",onTouchCancel:"touchcancel",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchStart:"touchstart",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onMouseMove:"mousemove",onMouseUp:"mouseup",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMoveStart:"movestart",onMove:"move",onMoveEnd:"moveend",onZoomStart:"zoomstart",onZoom:"zoom",onZoomEnd:"zoomend",onRotateStart:"rotatestart",onRotate:"rotate",onRotateEnd:"rotateend",onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend",onPitchStart:"pitchstart",onPitch:"pitch",onPitchEnd:"pitchend",onWheel:"wheel"},Aa=Object.keys(et),Oe=c.forwardRef((e,t)=>{const{className:n,loading:r,containerStyle:u,children:a}=e,o=c.useRef(null),[l,s]=c.useState(),i=c.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.containerStyle}),[e.style]),{current:d}=c.useRef({}),{onInstanceCreated:v}=Qe(e,l,{setterMap:Ta,converterMap:Ca});ue(l,e,{eventMap:et,eventList:Aa}),c.useImperativeHandle(t,()=>l,[l]),c.useEffect(()=>{o.current&&f().then(y=>{v(),d.map=y,s(y)})},[o]);const f=()=>{const y=p(e);return Promise.resolve(new oe.Map(y))},p=y=>{const b={container:o.current};return Sa.forEach(E=>{E in y&&E!=="container"&&(b[E]=y[E])}),b},m={height:"100%"};return at("div",{ref:o,style:i,className:n,children:[!l&&r,l&&B(Ie.Provider,{value:d,children:B("div",{"mapboxgl-children":"",style:m,children:a})})]})});try{Oe.displayName="Map",Oe.__docgenInfo={description:"",displayName:"Map",props:{loading:{defaultValue:null,description:"地图加载前的加载效果",name:"loading",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"额外的样式类",name:"className",required:!1,type:{name:"string"}},containerStyle:{defaultValue:null,description:"地图挂载节点样式",name:"containerStyle",required:!1,type:{name:"CSSProperties"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((e: ErrorEvent) => void)"}},onLoad:{defaultValue:null,description:`下载所有必要的资源并且第一次视觉上完整渲染发生后触发
@param e
@returns`,name:"onLoad",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onIdle:{defaultValue:null,description:"",name:"onIdle",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onRender:{defaultValue:null,description:"",name:"onRender",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!1,type:{name:"((e: MapboxEvent<undefined>) => void)"}},onWebglContextLost:{defaultValue:null,description:"",name:"onWebglContextLost",required:!1,type:{name:"((e: MapContextEvent) => void)"}},onWebglContextRestored:{defaultValue:null,description:"",name:"onWebglContextRestored",required:!1,type:{name:"((e: MapContextEvent) => void)"}},onDataloading:{defaultValue:null,description:"",name:"onDataloading",required:!1,type:{name:"((e: MapDataEvent) => void)"}},onData:{defaultValue:null,description:"",name:"onData",required:!1,type:{name:"((e: MapDataEvent) => void)"}},onTileDataLoading:{defaultValue:null,description:"",name:"onTileDataLoading",required:!1,type:{name:"((e: MapDataEvent) => void)"}},onSourceDataLoading:{defaultValue:null,description:"",name:"onSourceDataLoading",required:!1,type:{name:"((e: MapSourceDataEvent) => void)"}},onStyleDataLoading:{defaultValue:null,description:"",name:"onStyleDataLoading",required:!1,type:{name:"((e: MapStyleDataEvent) => void)"}},onStyleLoad:{defaultValue:null,description:"",name:"onStyleLoad",required:!1,type:{name:'((e: Omit<MapStyleDataEvent, "dataType"> & { type: "style.load"; }) => void)'}},onStyleImportLoad:{defaultValue:null,description:"",name:"onStyleImportLoad",required:!1,type:{name:'((e: Omit<MapStyleDataEvent, "dataType"> & { type: "style.import.load"; }) => void)'}},onSourceData:{defaultValue:null,description:"",name:"onSourceData",required:!1,type:{name:"((e: MapSourceDataEvent) => void)"}},onStyleData:{defaultValue:null,description:"",name:"onStyleData",required:!1,type:{name:"((e: MapStyleDataEvent) => void)"}},onBoxZoomCancel:{defaultValue:null,description:"",name:"onBoxZoomCancel",required:!1,type:{name:"((e: MapBoxZoomEvent) => void)"}},onBoxZoomStart:{defaultValue:null,description:"",name:"onBoxZoomStart",required:!1,type:{name:"((e: MapBoxZoomEvent) => void)"}},onBoxZoomEnd:{defaultValue:null,description:"",name:"onBoxZoomEnd",required:!1,type:{name:"((e: MapBoxZoomEvent) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onTouchMove:{defaultValue:null,description:"",name:"onTouchMove",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((e: MapTouchEvent) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((e: MapMouseEvent) => void)"}},onMoveStart:{defaultValue:null,description:"",name:"onMoveStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onMove:{defaultValue:null,description:"",name:"onMove",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onMoveEnd:{defaultValue:null,description:"",name:"onMoveEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onZoomStart:{defaultValue:null,description:"",name:"onZoomStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onZoom:{defaultValue:null,description:"",name:"onZoom",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onZoomEnd:{defaultValue:null,description:"",name:"onZoomEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent | WheelEvent>) => void)"}},onRotateStart:{defaultValue:null,description:"",name:"onRotateStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onRotate:{defaultValue:null,description:"",name:"onRotate",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onRotateEnd:{defaultValue:null,description:"",name:"onRotateEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onPitchStart:{defaultValue:null,description:"",name:"onPitchStart",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onPitch:{defaultValue:null,description:"",name:"onPitch",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onPitchEnd:{defaultValue:null,description:"",name:"onPitchEnd",required:!1,type:{name:"((e: MapboxEvent<MouseEvent | TouchEvent>) => void)"}},onWheel:{defaultValue:null,description:"",name:"onWheel",required:!1,type:{name:"((e: MapWheelEvent) => void)"}}}}}catch{}const k=()=>{const e=c.useContext(Ie);if(!e)throw new Error("The useMap must be used in the Map container");return e},wa=e=>{if(!e)return null;if("toBounds"in e)return e;let t=0,n=0;return Array.isArray(e)?(t=e[0],n=e[1]):"lng"in e&&"lat"in e?(t=e.lng,n=e.lat):"lon"in e&&"lat"in e&&(t=e.lon,n=e.lat),t!==0&&n!==0?new oe.LngLat(t,n):null},xa=["anchor","clickTolerance","color","scale"],La=["offset","draggable","rotation","rotationAlignment","pitchAlignment","occludedOpacity","lngLat"],Da=La.concat(xa),Pa={},P={lngLat:wa},tt={onDragStart:"dragstart",onDrag:"drag",onDragEnd:"dragend"},Oa=Object.keys(tt),Re=c.forwardRef((e,t)=>{const{map:n}=k(),{Portal:r,container:u}=At(),[a,o,l]=Et(),{onInstanceCreated:s}=Qe(e,a,{setterMap:Pa,converterMap:P});ue(a,e,{eventMap:tt,eventList:Oa}),c.useImperativeHandle(t,()=>a,[a]);const i=p=>{var m;(m=e.onClick)==null||m.call(e,{type:"click",target:l(),originalEvent:p})};c.useEffect(()=>(n&&d().then(p=>{o(p),p.addTo(n),u.addEventListener("click",i),s()}),()=>{u&&u.removeEventListener("click",i)}),[n]);const d=()=>{const p=v(e);if(p.lngLat){const m=new oe.Marker(u,p);return m.setLngLat(p.lngLat),Promise.resolve(m)}else return Promise.reject()},v=p=>{const m={};return Da.forEach(y=>{y in p&&(m[y]=f(y,p))}),m},f=(p,m)=>{var h;let y=m[p];if(p in P)try{y=(h=P[p])==null?void 0:h.call(P,m[p])}catch{}return y};return B(ot,{children:a&&B(r,{children:e.children})})});try{Re.displayName="Marker",Re.__docgenInfo={description:"",displayName:"Marker",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},lngLat:{defaultValue:null,description:"经纬度坐标",name:"lngLat",required:!1,type:{name:"LngLatLike"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"((e: MarkerEvent<MouseEvent | TouchEvent>) => void)"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((e: MarkerEvent<MouseEvent | TouchEvent>) => void)"}},onDragEnd:{defaultValue:null,description:"",name:"onDragEnd",required:!1,type:{name:"((e: MarkerEvent<MouseEvent | TouchEvent>) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MarkerEvent<Event>) => void)"}}}}}catch{}const qe=e=>{const{isFinishRender:t=!1,children:n}=e,{map:r}=k(),[,u]=c.useState(0),a=c.useRef([0,0,0]),o=c.useRef(0),l=()=>{u(f=>f+1)},s=()=>["031","131"].includes(a.current.join("")),i=()=>{a.current=[1,0,0],l()},d=()=>{a.current[1]=a.current[1]+1,a.current[1]===3&&(o.current=o.current+1),s()&&l()},v=()=>{a.current[2]=1};return c.useEffect(()=>{if(r)return r.on("styledataloading",i),r.on("styledata",d),r.on("style.load",v),()=>{r.off("styledataloading",i),r.off("styledata",d),r.off("style.load",v)}},[r]),Fe(n)?n(s(),o.current===1):t?s()&&e.children:o.current>0&&e.children};try{qe.displayName="StyleLoadFinish",qe.__docgenInfo={description:"",displayName:"StyleLoadFinish",props:{isFinishRender:{defaultValue:{value:"false 加载中不卸载子组件"},description:"样式加载完成子组件才可渲染，加载中卸载子组件",name:"isFinishRender",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"子组件，如果为",name:"children",required:!1,type:{name:"ReactNode | ChildrenFun"}}}}}catch{}const nt=e=>e.style&&e.style._loaded;function je(e,t){if(!e)throw new Error(t)}function ae(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!ae(e[n],t[n]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const u of n)if(!t.hasOwnProperty(u)||!ae(e[u],t[u]))return!1;return!0}return!1}function Ra(e,t,n){if(nt(e)){const r={...n};return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}}function qa(e,t,n){je(t.id===n.id,"source id changed"),je(t.type===n.type,"source type changed");let r="",u=0;for(const o in t)o!=="children"&&o!=="id"&&!ae(n[o],t[o])&&(r=o,u++);if(!u)return;const a=t.type;if(a==="geojson")e.setData(t.data);else if(a==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else if("setCoordinates"in e&&u===1&&r==="coordinates")e.setCoordinates(t.coordinates);else if("setUrl"in e)switch(r){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles);break}else console.warn(`Unable to update <Source> prop: ${r}`)}let ja=0;function $e(e){const{map:t}=k(),n=c.useRef(e),[,r]=c.useState(0),u=c.useMemo(()=>e.id||`jsx-source-${ja++}`,[]);c.useEffect(()=>{if(t){const o=()=>setTimeout(()=>r(l=>l+1),0);return t.on("styledata",o),o(),()=>{var l;if(t.off("styledata",o),t.getStyle()&&nt(t)&&t.getSource(u)){const s=(l=t.getStyle())==null?void 0:l.layers;if(s)for(const i of s)i.source===u&&t.removeLayer(i.id);t.removeSource(u)}}}},[t]);let a=t&&t.getStyle()&&t.getSource(u);return a?qa(a,e,n.current):a=Ra(t,u,e),n.current=e,a&&ut.Children.map(e.children,o=>o&&c.cloneElement(o,{source:u}))||null}try{$e.displayName="Source",$e.__docgenInfo={description:"",displayName:"Source",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"custom"'},{value:'"geojson"'},{value:'"video"'},{value:'"image"'},{value:'"canvas"'},{value:'"vector"'},{value:'"raster"'},{value:'"raster-dem"'}]}},scheme:{defaultValue:null,description:"",name:"scheme",required:!1,type:{name:"string"}},minzoom:{defaultValue:null,description:"",name:"minzoom",required:!1,type:{name:"number"}},maxzoom:{defaultValue:null,description:"",name:"maxzoom",required:!1,type:{name:"number"}},tileSize:{defaultValue:null,description:"",name:"tileSize",required:!1,type:{name:"number"}},attribution:{defaultValue:null,description:"",name:"attribution",required:!1,type:{name:"string"}},_implementation:{defaultValue:null,description:"",name:"_implementation",required:!0,type:{name:"CustomSourceImplementation<unknown>"}}}}}catch{}const rt={onClick:"click",onDoubleClick:"dblclick",onContextMenu:"contextmenu",onMouseDown:"mousedown",onMouseUp:"mouseup",onMouseMove:"mousemove",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseOver:"mouseover",onMouseOut:"mouseout",onTouchStart:"touchstart",onTouchEnd:"touchend",onTouchCancel:"touchcancel"},$a=Object.keys(rt),Ve=e=>{const{before:t,...n}=e,{map:r}=k();return ue(r,e,{eventMap:rt,eventList:$a}),c.useEffect(()=>{r&&r.addLayer(n,t)},[r]),null};try{Ve.displayName="Layer",Ve.__docgenInfo={description:"",displayName:"Layer",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"symbol"'},{value:'"raster"'},{value:'"background"'},{value:'"circle"'},{value:'"fill-extrusion"'},{value:'"fill"'},{value:'"heatmap"'},{value:'"hillshade"'},{value:'"line"'},{value:'"sky"'}]}},before:{defaultValue:null,description:"",name:"before",required:!1,type:{name:"string"}},layout:{defaultValue:null,description:"",name:"layout",required:!1,type:{name:"SymbolLayout | RasterLayout | BackgroundLayout | CircleLayout | FillExtrusionLayout | ... 5 more ..."}},paint:{defaultValue:null,description:"",name:"paint",required:!1,type:{name:"SymbolPaint | RasterPaint | BackgroundPaint | CirclePaint | FillExtrusionPaint | FillPaint | ... 4 more ..."}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseUp:{defaultValue:null,description:"",name:"onMouseUp",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!1,type:{name:"((e: MapLayerMouseEvent) => void)"}},onTouchStart:{defaultValue:null,description:"",name:"onTouchStart",required:!1,type:{name:"((e: MapLayerTouchEvent) => void)"}},onTouchEnd:{defaultValue:null,description:"",name:"onTouchEnd",required:!1,type:{name:"((e: MapLayerTouchEvent) => void)"}},onTouchCancel:{defaultValue:null,description:"",name:"onTouchCancel",required:!1,type:{name:"((e: MapLayerTouchEvent) => void)"}}}}}catch{}export{Oe as M,qe as S,Re as a,$e as b,k as u};
